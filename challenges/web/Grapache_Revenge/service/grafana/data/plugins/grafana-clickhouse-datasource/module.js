/*! For license information please see module.js.LICENSE.txt */
define(["react","@grafana/ui","lodash","@grafana/data","emotion","@grafana/runtime"],(function(e,t,r,n,a,i){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=107)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t){e.exports=a},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=i},function(e,t,r){var n=r(25),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){var n=r(24),a=r(47),i=r(48),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},function(e,t,r){var n=r(56),a=r(57),i=r(58),o=r(59),l=r(60);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=l,e.exports=s},function(e,t,r){var n=r(12);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(15)(Object,"create");e.exports=n},function(e,t,r){var n=r(75);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t,r){var n=r(45),a=r(52);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(9),a=r(5);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,r){var n=r(23);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(16),a=r(33);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(22),a=r(41),i=r(42);e.exports=function(e,t){return i(a(e,t,n),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(15),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},function(e,t,r){var n=r(7).Symbol;e.exports=n},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(46))},function(e,t,r){var n=r(55),a=r(28),i=r(79),o=r(81),l=r(5),s=r(37),u=r(36);e.exports=function e(t,r,c,p,d){t!==r&&i(r,(function(i,s){if(d||(d=new n),l(i))o(t,r,s,c,e,p,d);else{var f=p?p(u(t,s),i,s+"",t,r,d):void 0;void 0===f&&(f=i),a(t,s,f)}}),s)}},function(e,t,r){var n=r(15)(r(7),"Map");e.exports=n},function(e,t,r){var n=r(17),a=r(12);e.exports=function(e,t,r){(void 0!==r&&!a(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},function(e,t,r){var n=r(89)(Object.getPrototypeOf,Object);e.exports=n},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(90),a=r(8),i=Object.prototype,o=i.hasOwnProperty,l=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return a(e)&&o.call(e,"callee")&&!l.call(e,"callee")};e.exports=s},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){(function(e){var n=r(7),a=r(92),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,l=o&&o.exports===i?n.Buffer:void 0,s=(l?l.isBuffer:void 0)||a;e.exports=s}).call(this,r(18)(e))},function(e,t,r){var n=r(94),a=r(95),i=r(96),o=i&&i.isTypedArray,l=o?a(o):n;e.exports=l},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,r){var n=r(100),a=r(102),i=r(19);e.exports=function(e){return i(e)?n(e,!0):a(e)}},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n,a=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[1,8],r=[1,4],n=[2,4],a=[1,11],i=[1,10],o=[2,16],l=[1,14],s=[1,15],u=[1,16],c=[6,8],p=[2,145],d=[1,19],f=[1,20],h=[16,33,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],v=[16,18,32,33,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],m=[2,159],y=[1,29],g=[6,8,14,17,145,149,151,153],b=[1,42],E=[1,59],O=[1,51],T=[1,58],S=[1,60],C=[1,61],_=[1,62],w=[1,63],L=[1,64],x=[1,57],N=[1,52],I=[1,53],A=[1,54],R=[1,55],k=[1,56],B=[1,43],F=[1,44],j=[1,45],D=[1,34],P=[16,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],q=[6,8,14,17,149,151,153],M=[2,142],$=[1,73],U=[1,74],K=[6,8,14,17,43,132,137,143,145,149,151,153],H=[1,79],Q=[1,76],G=[1,77],W=[1,78],V=[1,80],z=[6,8,14,17,36,43,49,50,51,70,71,73,76,88,106,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],Y=[6,8,14,17,34,36,43,49,50,51,70,71,73,76,88,106,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],J=[1,101],X=[1,99],Z=[1,100],ee=[1,95],te=[1,96],re=[1,97],ne=[1,98],ae=[1,102],ie=[1,103],oe=[1,104],le=[1,105],se=[1,106],ue=[1,107],ce=[2,102],pe=[6,8,14,17,34,36,43,45,49,50,51,70,71,73,76,78,80,88,90,91,92,93,94,95,96,97,98,100,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],de=[6,8,14,17,34,36,43,45,49,50,51,70,71,73,76,78,80,88,90,91,92,93,94,95,96,97,98,100,102,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],fe=[1,108],he=[1,115],ve=[2,63],me=[1,116],ye=[16,35,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],ge=[16,29,35,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,118],be=[1,162],Ee=[17,43],Oe=[2,58],Te=[1,171],Se=[1,169],Ce=[1,170],_e=[6,8,137,145],we=[16,35,38,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],Le=[6,8,14,17,137,143,145,149,151,153],xe=[6,8,14,17,36,43,49,50,51,70,71,73,76,88,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],Ne=[6,8,14,17,34,36,43,49,50,51,70,71,73,76,88,90,91,92,93,98,100,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],Ie=[6,8,14,17,34,36,43,49,50,51,70,71,73,76,78,80,88,90,91,92,93,98,100,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],Ae=[16,35,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],Re=[16,35,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],ke=[16,35,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],Be=[70,73,76],Fe=[16,35,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],je=[1,231],De=[1,232],Pe=[6,8,14,17],qe=[6,8,14,17,43,156],Me=[1,249],$e=[1,245],Ue=[2,196],Ke=[1,253],He=[1,254],Qe=[6,8,14,17,43,128,134,137,143,145,149,151,153,181],Ge=[1,256],We=[1,259],Ve=[1,260],ze=[1,261],Ye=[1,262],Je=[2,173],Xe=[1,258],Ze=[6,8,14,17,36,43,88,128,134,137,143,145,149,151,153,163,164,166,167,172,176,178,179,181],et=[6,8,14,17,134,137,143,145,149,151,153],tt=[1,274],rt=[2,178],nt=[169,172],at=[6,8,14,17,36,43,88,128,134,137,143,145,149,151,153,163,164,166,167,172,176,178,179,181,191,192,193],it=[2,198],ot=[1,279],lt=[1,291],st=[1,299],ut=[1,300],ct=[1,301],pt=[6,8,14,17,137,145,149,151,153],dt=[1,311],ft=[1,317],ht=[1,318],vt=[2,203],mt=[1,329],yt=[16,151],gt=[6,8,14,17,151,153],bt=[1,345],Et={trace:function(){},yy:{},symbols_:{error:2,main:3,selectClause:4,semicolonOpt:5,EOF:6,unionClause:7,";":8,unionClauseNotParenthesized:9,unionClauseParenthesized:10,order_by_opt:11,limit_opt:12,selectClauseParenthesized:13,UNION:14,distinctOpt:15,"(":16,")":17,SELECT:18,highPriorityOpt:19,maxStateMentTimeOpt:20,straightJoinOpt:21,sqlSmallResultOpt:22,sqlBigResultOpt:23,sqlBufferResultOpt:24,sqlCacheOpt:25,sqlCalcFoundRowsOpt:26,selectExprList:27,selectDataSetOpt:28,ALL:29,DISTINCT:30,DISTINCTROW:31,HIGH_PRIORITY:32,MAX_STATEMENT_TIME:33,"=":34,NUMERIC:35,STRAIGHT_JOIN:36,SQL_SMALL_RESULT:37,SQL_BIG_RESULT:38,SQL_BUFFER_RESULT:39,SQL_CACHE:40,SQL_NO_CACHE:41,SQL_CALC_FOUND_ROWS:42,",":43,selectExpr:44,"*":45,SELECT_EXPR_STAR:46,expr:47,selectExprAliasOpt:48,AS:49,IDENTIFIER:50,STRING:51,string:52,number:53,EXPONENT_NUMERIC:54,HEX_NUMERIC:55,boolean:56,TRUE:57,FALSE:58,null:59,NULL:60,literal:61,function_call:62,function_call_param_list:63,function_call_param:64,identifier:65,DOT:66,identifier_list:67,case_expr_opt:68,when_then_list:69,WHEN:70,THEN:71,case_when_else:72,ELSE:73,case_when:74,CASE:75,END:76,simple_expr_prefix:77,"+":78,simple_expr:79,"-":80,"~":81,"!":82,BINARY:83,expr_list:84,ROW:85,EXISTS:86,"{":87,"}":88,bit_expr:89,"|":90,"&":91,"<<":92,">>":93,"/":94,DIV:95,MOD:96,"%":97,"^":98,not_opt:99,NOT:100,escape_opt:101,ESCAPE:102,predicate:103,IN:104,BETWEEN:105,AND:106,SOUNDS:107,LIKE:108,REGEXP:109,comparison_operator:110,">=":111,">":112,"<=":113,"<":114,"<>":115,"!=":116,sub_query_data_set_opt:117,ANY:118,boolean_primary:119,IS:120,boolean_extra:121,UNKNOWN:122,"&&":123,"||":124,OR:125,XOR:126,where_opt:127,WHERE:128,group_by_opt:129,group_by:130,roll_up_opt:131,WITH:132,ROLLUP:133,GROUP_BY:134,group_by_order_by_item_list:135,order_by:136,ORDER_BY:137,group_by_order_by_item:138,sort_opt:139,ASC:140,DESC:141,having_opt:142,HAVING:143,limit:144,LIMIT:145,OFFSET:146,procedure_opt:147,procedure:148,PROCEDURE:149,for_update_lock_in_share_mode_opt:150,FOR:151,UPDATE:152,LOCK:153,SHARE:154,MODE:155,FROM:156,table_references:157,partitionOpt:158,escaped_table_reference:159,table_reference:160,OJ:161,join_inner_cross:162,INNER:163,CROSS:164,left_right:165,LEFT:166,RIGHT:167,out_opt:168,OUTER:169,left_right_out_opt:170,join_table:171,JOIN:172,table_factor:173,join_condition:174,on_join_condition:175,NATURAL:176,join_condition_opt:177,ON:178,USING:179,partition_names:180,PARTITION:181,aliasOpt:182,index_or_key:183,INDEX:184,KEY:185,for_opt:186,identifier_list_opt:187,index_hint_list_opt:188,index_hint_list:189,index_hint:190,USE:191,IGNORE:192,FORCE:193,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:";",14:"UNION",16:"(",17:")",18:"SELECT",29:"ALL",30:"DISTINCT",31:"DISTINCTROW",32:"HIGH_PRIORITY",33:"MAX_STATEMENT_TIME",34:"=",35:"NUMERIC",36:"STRAIGHT_JOIN",37:"SQL_SMALL_RESULT",38:"SQL_BIG_RESULT",39:"SQL_BUFFER_RESULT",40:"SQL_CACHE",41:"SQL_NO_CACHE",42:"SQL_CALC_FOUND_ROWS",43:",",45:"*",46:"SELECT_EXPR_STAR",49:"AS",50:"IDENTIFIER",51:"STRING",54:"EXPONENT_NUMERIC",55:"HEX_NUMERIC",57:"TRUE",58:"FALSE",60:"NULL",66:"DOT",70:"WHEN",71:"THEN",73:"ELSE",75:"CASE",76:"END",78:"+",80:"-",81:"~",82:"!",83:"BINARY",85:"ROW",86:"EXISTS",87:"{",88:"}",90:"|",91:"&",92:"<<",93:">>",94:"/",95:"DIV",96:"MOD",97:"%",98:"^",100:"NOT",102:"ESCAPE",104:"IN",105:"BETWEEN",106:"AND",107:"SOUNDS",108:"LIKE",109:"REGEXP",111:">=",112:">",113:"<=",114:"<",115:"<>",116:"!=",118:"ANY",120:"IS",122:"UNKNOWN",123:"&&",124:"||",125:"OR",126:"XOR",128:"WHERE",132:"WITH",133:"ROLLUP",134:"GROUP_BY",137:"ORDER_BY",140:"ASC",141:"DESC",143:"HAVING",145:"LIMIT",146:"OFFSET",149:"PROCEDURE",151:"FOR",152:"UPDATE",153:"LOCK",154:"SHARE",155:"MODE",156:"FROM",161:"OJ",163:"INNER",164:"CROSS",166:"LEFT",167:"RIGHT",169:"OUTER",172:"JOIN",176:"NATURAL",178:"ON",179:"USING",181:"PARTITION",184:"INDEX",185:"KEY",191:"USE",192:"IGNORE",193:"FORCE"},productions_:[0,[3,3],[3,3],[5,1],[5,0],[7,1],[7,3],[10,4],[10,4],[13,3],[9,4],[9,4],[4,12],[15,1],[15,1],[15,1],[15,0],[19,1],[19,0],[20,3],[20,0],[21,1],[21,0],[22,1],[22,0],[23,1],[23,0],[24,1],[24,0],[25,0],[25,1],[25,1],[26,1],[26,0],[27,3],[27,1],[44,1],[44,1],[44,2],[48,0],[48,2],[48,1],[48,2],[48,1],[52,1],[53,1],[53,1],[53,1],[56,1],[56,1],[59,1],[61,1],[61,1],[61,1],[61,1],[62,4],[63,3],[63,1],[64,0],[64,1],[64,1],[64,2],[64,1],[65,1],[65,3],[67,1],[67,3],[68,0],[68,1],[69,4],[69,5],[72,0],[72,2],[74,5],[77,2],[77,2],[77,2],[77,2],[77,2],[79,1],[79,1],[79,1],[79,1],[79,3],[79,4],[79,3],[79,4],[79,4],[79,1],[89,1],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[99,0],[99,1],[101,0],[101,2],[103,1],[103,6],[103,6],[103,6],[103,4],[103,5],[103,4],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[117,1],[117,1],[119,1],[119,4],[119,3],[119,6],[121,1],[121,1],[47,1],[47,4],[47,2],[47,3],[47,3],[47,3],[47,3],[47,3],[84,1],[84,3],[127,0],[127,2],[129,0],[129,1],[131,0],[131,2],[130,3],[11,0],[11,1],[136,3],[135,1],[135,3],[138,2],[139,0],[139,1],[139,1],[142,0],[142,2],[144,2],[144,4],[144,4],[12,0],[12,1],[147,0],[147,1],[148,2],[150,0],[150,2],[150,4],[28,0],[28,10],[157,1],[157,3],[159,1],[159,4],[162,0],[162,1],[162,1],[165,1],[165,1],[168,0],[168,1],[170,0],[170,2],[171,4],[171,5],[171,4],[171,6],[171,5],[177,0],[177,1],[175,2],[174,1],[174,4],[160,1],[160,1],[180,1],[180,3],[158,0],[158,4],[182,0],[182,2],[182,1],[183,1],[183,1],[186,0],[186,2],[186,2],[186,2],[187,0],[187,1],[188,0],[188,1],[189,1],[189,3],[190,6],[190,6],[190,6],[173,4],[173,4],[173,3]],performAction:function(e,t,r,n,a,i,o){var l=i.length-1;switch(a){case 1:case 2:return{nodeType:"Main",value:i[l-2],hasSemicolon:i[l-1]};case 3:case 143:this.$=!0;break;case 4:this.$=!1;break;case 5:case 13:case 14:case 15:case 17:case 19:case 21:case 23:case 25:case 27:case 30:case 31:case 32:case 51:case 52:case 53:case 54:case 59:case 60:case 62:case 68:case 72:case 79:case 80:case 81:case 82:case 88:case 89:case 103:case 105:case 106:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 126:case 128:case 139:case 141:case 146:case 152:case 153:case 155:case 160:case 162:case 163:case 174:case 175:case 176:case 177:case 179:case 188:case 190:case 192:case 193:case 201:case 202:case 208:case 210:this.$=i[l];break;case 6:this.$=i[l-2],this.$.orderBy=i[l-1],this.$.limit=i[l];break;case 7:case 8:this.$={type:"Union",left:i[l-3],distinctOpt:i[l-1],right:i[l]};break;case 9:this.$={type:"SelectParenthesized",value:i[l-1]};break;case 10:case 11:this.$={type:"Union",left:i[l-3],distinctOpt:i[l-1],right:i[l]};break;case 12:this.$={type:"Select",distinctOpt:i[l-10],highPriorityOpt:i[l-9],maxStateMentTimeOpt:i[l-8],straightJoinOpt:i[l-7],sqlSmallResultOpt:i[l-6],sqlBigResultOpt:i[l-5],sqlBufferResultOpt:i[l-4],sqlCacheOpt:i[l-3],sqlCalcFoundRowsOpt:i[l-2],selectItems:i[l-1],from:i[l].from,partition:i[l].partition,where:i[l].where,groupBy:i[l].groupBy,having:i[l].having,orderBy:i[l].orderBy,limit:i[l].limit,procedure:i[l].procedure,updateLockMode:i[l].updateLockMode};break;case 16:case 18:case 20:case 22:case 24:case 26:case 28:case 29:case 33:case 58:case 67:case 71:case 102:case 104:case 138:case 140:case 142:case 145:case 151:case 154:case 159:case 161:case 164:case 173:case 178:case 187:case 196:case 203:case 207:case 209:this.$=null;break;case 34:i[l-2].value.push(i[l]);break;case 35:this.$={type:"SelectExpr",value:[i[l]]};break;case 36:case 37:case 63:this.$={type:"Identifier",value:i[l]};break;case 38:this.$=i[l-1],this.$.alias=i[l].alias,this.$.hasAs=i[l].hasAs;break;case 39:case 198:this.$={alias:null,hasAs:null};break;case 40:case 42:this.$={alias:i[l],hasAs:!0};break;case 41:this.$={alias:i[l],hasAs:!1};break;case 43:this.$={alias:i[$01],hasAs:!1};break;case 44:this.$={type:"String",value:i[l]};break;case 45:case 46:case 47:this.$={type:"Number",value:i[l]};break;case 48:this.$={type:"Boolean",value:"TRUE"};break;case 49:this.$={type:"Boolean",value:"FALSE"};break;case 50:this.$={type:"Null",value:"null"};break;case 55:this.$={type:"FunctionCall",name:i[l-3],params:i[l-1]};break;case 56:i[l-2].push(i[l]),this.$=i[l-2];break;case 57:this.$=[i[l]];break;case 61:this.$={type:"FunctionCallParam",distinctOpt:i[l-1],value:i[l]};break;case 64:this.$=i[l-2],i[l-2].value+="."+i[l];break;case 65:this.$={type:"IdentifierList",value:[i[l]]};break;case 66:case 170:this.$=i[l-2],i[l-2].value.push(i[l]);break;case 69:this.$={type:"WhenThenList",value:[{when:i[l-2],then:i[l]}]};break;case 70:this.$=i[l-4],this.$.value.push({when:i[l-2],then:i[l]});break;case 73:this.$={type:"CaseWhen",caseExprOpt:i[l-3],whenThenList:i[l-2],else:i[l-1]};break;case 74:case 75:case 76:case 77:case 78:this.$={type:"Prefix",prefix:i[l-1],value:i[l]};break;case 83:this.$={type:"SimpleExprParentheses",value:i[l-1]};break;case 84:this.$={type:"SimpleExprParentheses",value:i[l-2],hasRow:!0};break;case 85:this.$={type:"SubQuery",value:i[l-1]};break;case 86:this.$={type:"SubQuery",value:i[l-1],hasExists:!0};break;case 87:this.$={type:"IdentifierExpr",identifier:i[l-2],value:i[l-1]};break;case 90:this.$={type:"BitExpression",operator:"|",left:i[l-2],right:i[l]};break;case 91:this.$={type:"BitExpression",operator:"&",left:i[l-2],right:i[l]};break;case 92:this.$={type:"BitExpression",operator:"<<",left:i[l-2],right:i[l]};break;case 93:this.$={type:"BitExpression",operator:">>",left:i[l-2],right:i[l]};break;case 94:this.$={type:"BitExpression",operator:"+",left:i[l-2],right:i[l]};break;case 95:this.$={type:"BitExpression",operator:"-",left:i[l-2],right:i[l]};break;case 96:this.$={type:"BitExpression",operator:"*",left:i[l-2],right:i[l]};break;case 97:this.$={type:"BitExpression",operator:"/",left:i[l-2],right:i[l]};break;case 98:this.$={type:"BitExpression",operator:"DIV",left:i[l-2],right:i[l]};break;case 99:this.$={type:"BitExpression",operator:"MOD",left:i[l-2],right:i[l]};break;case 100:this.$={type:"BitExpression",operator:"%",left:i[l-2],right:i[l]};break;case 101:this.$={type:"BitExpression",operator:"^",left:i[l-2],right:i[l]};break;case 107:this.$={type:"InSubQueryPredicate",hasNot:i[l-4],left:i[l-5],right:i[l-1]};break;case 108:this.$={type:"InExpressionListPredicate",hasNot:i[l-4],left:i[l-5],right:i[l-1]};break;case 109:this.$={type:"BetweenPredicate",hasNot:i[l-4],left:i[l-5],right:{left:i[l-2],right:i[l]}};break;case 110:this.$={type:"SoundsLikePredicate",hasNot:!1,left:i[l-3],right:i[l]};break;case 111:this.$={type:"LikePredicate",hasNot:i[l-3],left:i[l-4],right:i[l-1],escape:i[l]};break;case 112:this.$={type:"RegexpPredicate",hasNot:i[l-2],left:i[l-3],right:i[l]};break;case 123:this.$={type:"IsNullBooleanPrimary",hasNot:i[l-1],value:i[l-3]};break;case 124:this.$={type:"ComparisonBooleanPrimary",left:i[l-2],operator:i[l-1],right:i[l]};break;case 125:this.$={type:"ComparisonSubQueryBooleanPrimary",operator:i[l-4],subQueryOpt:i[l-3],left:i[l-5],right:i[l-1]};break;case 127:this.$={type:"BooleanExtra",value:i[l]};break;case 129:this.$={type:"IsExpression",hasNot:i[l-1],left:i[l-3],right:i[l]};break;case 130:this.$={type:"NotExpression",value:i[l]};break;case 131:case 134:this.$={type:"AndExpression",operator:i[l-1],left:i[l-2],right:i[l]};break;case 132:case 133:this.$={type:"OrExpression",operator:i[l-1],left:i[l-2],right:i[l]};break;case 135:this.$={type:"XORExpression",left:i[l-2],right:i[l]};break;case 136:this.$={type:"ExpressionList",value:[i[l]]};break;case 137:case 212:this.$=i[l-2],this.$.value.push(i[l]);break;case 144:this.$={type:"GroupBy",value:i[l-1],rollUp:i[l]};break;case 147:this.$={type:"OrderBy",value:i[l-1],rollUp:i[l]};break;case 148:case 194:this.$=[i[l]];break;case 149:this.$=i[l-2],i[l-2].push(i[l]);break;case 150:this.$={type:"GroupByOrderByItem",value:i[l-1],sortOpt:i[l]};break;case 156:this.$={type:"Limit",value:[i[l]]};break;case 157:this.$={type:"Limit",value:[i[l-2],i[l]]};break;case 158:this.$={type:"Limit",value:[i[l],i[l-2]],offsetMode:!0};break;case 165:this.$=i[l-1]+" "+i[l];break;case 166:this.$=i[l-3]+" "+i[l-2]+" "+i[l-1]+" "+i[l];break;case 167:this.$={};break;case 168:this.$={from:i[l-8],partition:i[l-7],where:i[l-6],groupBy:i[l-5],having:i[l-4],orderBy:i[l-3],limit:i[l-2],procedure:i[l-1],updateLockMode:i[l]};break;case 169:this.$={type:"TableReferences",value:[i[l]]};break;case 171:this.$={type:"TableReference",value:i[l]};break;case 172:this.$={type:"TableReference",hasOj:!0,value:i[l-1]};break;case 180:this.$={leftRight:null,outOpt:null};break;case 181:this.$={leftRight:i[l-1],outOpt:i[l]};break;case 182:this.$={type:"InnerCrossJoinTable",innerCrossOpt:i[l-2],left:i[l-3],right:i[l],condition:null};break;case 183:this.$={type:"InnerCrossJoinTable",innerCrossOpt:i[l-3],left:i[l-4],right:i[l-1],condition:i[l]};break;case 184:this.$={type:"StraightJoinTable",left:i[l-3],right:i[l-1],condition:i[l]};break;case 185:this.$={type:"LeftRightJoinTable",leftRight:i[l-4],outOpt:i[l-3],left:i[l-5],right:i[l-1],condition:i[l]};break;case 186:this.$={type:"NaturalJoinTable",leftRight:i[l-2].leftRight,outOpt:i[l-2].outOpt,left:i[l-4],right:i[l]};break;case 189:this.$={type:"OnJoinCondition",value:i[l]};break;case 191:this.$={type:"UsingJoinCondition",value:i[l-1]};break;case 195:this.$=i[l-2],i[l-2].push(i[l]);break;case 197:this.$={type:"Partitions",value:i[l-1]};break;case 199:this.$={hasAs:!0,alias:i[l]};break;case 200:this.$={hasAs:!1,alias:i[l]};break;case 204:case 205:case 206:this.$={type:"ForOptIndexHint",value:i[l]};break;case 211:this.$={type:"IndexHintList",value:[i[l]]};break;case 213:this.$={type:"UseIndexHint",value:i[l-1],forOpt:i[l-3],indexOrKey:i[l-4]};break;case 214:this.$={type:"IgnoreIndexHint",value:i[l-1],forOpt:i[l-3],indexOrKey:i[l-4]};break;case 215:this.$={type:"ForceIndexHint",value:i[l-1],forOpt:i[l-3],indexOrKey:i[l-4]};break;case 216:this.$={type:"TableFactor",value:i[l-3],partition:i[l-2],alias:i[l-1].alias,hasAs:i[l-1].hasAs,indexHintOpt:i[l]};break;case 217:this.$={type:"TableFactor",value:{type:"SubQuery",value:i[l-2]},alias:i[l].alias,hasAs:i[l].hasAs};break;case 218:this.$=i[l-1],this.$.hasParentheses=!0}},table:[{3:1,4:2,7:3,9:5,10:6,13:7,16:t,18:r},{1:[3]},{5:9,6:n,8:a,14:i},{5:12,6:n,8:a},e([16,32,33,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],o,{15:13,29:l,30:s,31:u}),e(c,[2,5]),e([6,8,145],p,{11:17,136:18,137:d}),{14:f},{4:21,18:r},{6:[1,22]},{15:23,18:o,29:l,30:s,31:u},{6:[2,3]},{6:[1,24]},e(h,[2,18],{19:25,32:[1,26]}),e(v,[2,13]),e(v,[2,14]),e(v,[2,15]),e(c,m,{12:27,144:28,145:y}),e(g,[2,146]),{16:b,35:E,47:32,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33,135:30,138:31},{15:65,16:o,29:l,30:s,31:u},{17:[1,66]},{1:[2,1]},{4:67,9:68,18:r},{1:[2,2]},e(P,[2,20],{20:69,33:[1,70]}),e(h,[2,17]),e(c,[2,6]),e(q,[2,160]),{35:[1,71]},e(g,M,{131:72,43:$,132:U}),e(K,[2,148]),e(K,[2,151],{139:75,106:H,123:Q,124:G,125:W,126:V,140:[1,81],141:[1,82]}),e(z,[2,128],{110:84,34:[1,85],111:[1,86],112:[1,87],113:[1,88],114:[1,89],115:[1,90],116:[1,91],120:[1,83]}),{16:b,35:E,47:92,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},e(Y,[2,122]),e(Y,[2,106],{99:93,45:J,78:X,80:Z,90:ee,91:te,92:re,93:ne,94:ae,95:ie,96:oe,97:le,98:se,100:ue,104:ce,105:ce,108:ce,109:ce,107:[1,94]}),e(pe,[2,89]),e(de,[2,79]),e(de,[2,80],{66:fe}),e(de,[2,81]),e(de,[2,82]),{4:110,16:b,18:r,35:E,47:111,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,84:109,85:B,86:F,87:j,89:36,100:D,103:35,119:33},{16:[1,112]},{16:[1,113]},{50:he,65:114},e(de,[2,88]),e(de,[2,51]),e(de,[2,52]),e(de,[2,53]),e(de,[2,54]),e([6,8,14,17,34,36,43,45,49,50,51,66,70,71,73,76,78,80,88,90,91,92,93,94,95,96,97,98,100,102,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],ve,{16:me}),{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:117,80:I,81:A,82:R,83:k,85:B,86:F,87:j},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:118,80:I,81:A,82:R,83:k,85:B,86:F,87:j},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:119,80:I,81:A,82:R,83:k,85:B,86:F,87:j},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:120,80:I,81:A,82:R,83:k,85:B,86:F,87:j},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:121,80:I,81:A,82:R,83:k,85:B,86:F,87:j},{16:b,35:E,47:123,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,68:122,70:[2,67],74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},e(de,[2,44]),e(de,[2,45]),e(de,[2,46]),e(de,[2,47]),e(de,[2,48]),e(de,[2,49]),e(de,[2,50]),{10:125,13:124,16:t},e([6,8,14,137,145],[2,9]),e(c,[2,10],{14:i}),e(c,[2,11]),e(ye,[2,22],{21:126,36:[1,127]}),{34:[1,128]},e(q,[2,156],{43:[1,129],146:[1,130]}),e(g,[2,147]),{16:b,35:E,47:32,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33,138:131},{133:[1,132]},e(K,[2,150]),{16:b,35:E,47:133,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},{16:b,35:E,47:134,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},{16:b,35:E,47:135,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},{16:b,35:E,47:136,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},{16:b,35:E,47:137,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},e(K,[2,152]),e(K,[2,153]),e([57,58,60,122],ce,{99:138,100:ue}),{16:b,29:[1,141],35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,103:139,117:140,118:[1,142]},e(ge,[2,113]),e(ge,[2,114]),e(ge,[2,115]),e(ge,[2,116]),e(ge,[2,117]),e(ge,[2,118]),e(ge,[2,119]),e(z,[2,130]),{104:[1,143],105:[1,144],108:[1,145],109:[1,146]},{108:[1,147]},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:148},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:149},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:150},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:151},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:152},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:153},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:154},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:155},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:156},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:157},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:158},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:159},e([57,58,60,104,105,108,109,122],[2,103]),{50:[1,160]},{17:[1,161],43:be},{17:[1,163]},e(Ee,[2,136],{106:H,123:Q,124:G,125:W,126:V}),{16:b,35:E,47:111,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,84:164,85:B,86:F,87:j,89:36,100:D,103:35,119:33},{4:165,18:r},{16:b,35:E,47:166,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,66:fe,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},e([6,8,14,16,17,35,36,43,49,50,51,54,55,57,58,60,66,75,78,80,81,82,83,85,86,87,88,100,128,134,137,143,145,149,151,153,163,164,166,167,172,176,178,179,181,191,192,193],ve),e(Ee,Oe,{119:33,103:35,89:36,79:37,61:38,65:39,62:40,77:41,74:46,52:47,53:48,56:49,59:50,63:167,64:168,47:172,16:b,30:Te,35:E,45:Se,46:Ce,50:O,51:T,54:S,55:C,57:_,58:w,60:L,75:x,78:N,80:I,81:A,82:R,83:k,85:B,86:F,87:j,100:D}),e(de,[2,74]),e(de,[2,75]),e(de,[2,76]),e(de,[2,77]),e(de,[2,78]),{69:173,70:[1,174]},{70:[2,68],106:H,123:Q,124:G,125:W,126:V},e(_e,[2,7],{14:f}),e(_e,[2,8]),e(we,[2,24],{22:175,37:[1,176]}),e(ye,[2,21]),{35:[1,177]},{35:[1,178]},{35:[1,179]},e(K,[2,149]),e(Le,[2,143]),e(z,[2,131]),e(xe,[2,132],{106:H,123:Q}),e(xe,[2,133],{106:H,123:Q}),e(z,[2,134]),e(xe,[2,135],{106:H,123:Q}),{56:182,57:_,58:w,60:[1,181],121:180,122:[1,183]},e(Y,[2,124]),{16:[1,184]},{16:[2,120]},{16:[2,121]},{16:[1,185]},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:186},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:187,80:I,81:A,82:R,83:k,85:B,86:F,87:j},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:188},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:189},e([6,8,14,17,34,36,43,49,50,51,70,71,73,76,88,90,100,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],[2,90],{45:J,78:X,80:Z,91:te,92:re,93:ne,94:ae,95:ie,96:oe,97:le,98:se}),e([6,8,14,17,34,36,43,49,50,51,70,71,73,76,88,90,91,98,100,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],[2,91],{45:J,78:X,80:Z,92:re,93:ne,94:ae,95:ie,96:oe,97:le}),e(Ne,[2,92],{45:J,78:X,80:Z,94:ae,95:ie,96:oe,97:le}),e(Ne,[2,93],{45:J,78:X,80:Z,94:ae,95:ie,96:oe,97:le}),e(Ie,[2,94],{45:J,94:ae,95:ie,96:oe,97:le}),e(Ie,[2,95],{45:J,94:ae,95:ie,96:oe,97:le}),e(pe,[2,96]),e(pe,[2,97]),e(pe,[2,98]),e(pe,[2,99]),e(pe,[2,100]),e([6,8,14,17,34,36,43,49,50,51,70,71,73,76,88,90,98,100,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],[2,101],{45:J,78:X,80:Z,91:te,92:re,93:ne,94:ae,95:ie,96:oe,97:le}),e([6,8,14,16,17,34,35,36,43,45,49,50,51,54,55,57,58,60,66,70,71,73,75,76,78,80,81,82,83,85,86,87,88,90,91,92,93,94,95,96,97,98,100,102,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181,191,192,193],[2,64]),e(de,[2,83]),{16:b,35:E,47:190,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},e(de,[2,85]),{17:[1,191],43:be},{17:[1,192]},{88:[1,193],106:H,123:Q,124:G,125:W,126:V},{17:[1,194],43:[1,195]},e(Ee,[2,57]),e(Ee,[2,59]),e(Ee,[2,60]),{16:b,35:E,47:196,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},e(Ee,[2,62],{106:H,123:Q,124:G,125:W,126:V}),{70:[1,198],72:197,73:[1,199],76:[2,71]},{16:b,35:E,47:200,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},e(Ae,[2,26],{23:201,38:[1,202]}),e(we,[2,23]),e(P,[2,19]),e(q,[2,157]),e(q,[2,158]),e(z,[2,129]),e(Y,[2,123]),e(z,[2,126]),e(z,[2,127]),{4:203,18:r},{4:204,16:b,18:r,35:E,47:111,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,84:205,85:B,86:F,87:j,89:36,100:D,103:35,119:33},{45:J,78:X,80:Z,90:ee,91:te,92:re,93:ne,94:ae,95:ie,96:oe,97:le,98:se,106:[1,206]},e(Y,[2,104],{101:207,102:[1,208]}),e(Y,[2,112],{45:J,78:X,80:Z,90:ee,91:te,92:re,93:ne,94:ae,95:ie,96:oe,97:le,98:se}),e(Y,[2,110],{45:J,78:X,80:Z,90:ee,91:te,92:re,93:ne,94:ae,95:ie,96:oe,97:le,98:se}),e(Ee,[2,137],{106:H,123:Q,124:G,125:W,126:V}),e(de,[2,84]),e(de,[2,86]),e(de,[2,87]),e(de,[2,55]),e(Ee,Oe,{119:33,103:35,89:36,79:37,61:38,65:39,62:40,77:41,74:46,52:47,53:48,56:49,59:50,47:172,64:209,16:b,30:Te,35:E,45:Se,46:Ce,50:O,51:T,54:S,55:C,57:_,58:w,60:L,75:x,78:N,80:I,81:A,82:R,83:k,85:B,86:F,87:j,100:D}),e(Ee,[2,61],{106:H,123:Q,124:G,125:W,126:V}),{76:[1,210]},{16:b,35:E,47:211,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},{16:b,35:E,47:212,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},{71:[1,213],106:H,123:Q,124:G,125:W,126:V},e(Re,[2,28],{24:214,39:[1,215]}),e(Ae,[2,25]),{17:[1,216]},{17:[1,217]},{17:[1,218],43:be},{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,103:219},e(Y,[2,111]),{16:b,35:E,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:220,80:I,81:A,82:R,83:k,85:B,86:F,87:j},e(Ee,[2,56]),e(de,[2,73]),{71:[1,221],106:H,123:Q,124:G,125:W,126:V},{76:[2,72],106:H,123:Q,124:G,125:W,126:V},{16:b,35:E,47:222,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},e(ke,[2,29],{25:223,40:[1,224],41:[1,225]}),e(Re,[2,27]),e(Y,[2,125]),e(Y,[2,107]),e(Y,[2,108]),e(Y,[2,109]),e(Y,[2,105]),{16:b,35:E,47:226,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},e(Be,[2,69],{106:H,123:Q,124:G,125:W,126:V}),e(Fe,[2,33],{26:227,42:[1,228]}),e(ke,[2,30]),e(ke,[2,31]),e(Be,[2,70],{106:H,123:Q,124:G,125:W,126:V}),{16:b,27:229,35:E,44:230,45:je,46:De,47:233,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},e(Fe,[2,32]),e(Pe,[2,167],{28:234,43:[1,235],156:[1,236]}),e(qe,[2,35]),e(qe,[2,36]),e(qe,[2,37]),e(qe,[2,39],{48:237,49:[1,238],50:[1,239],51:[1,240],106:H,123:Q,124:G,125:W,126:V}),e(Pe,[2,12]),{16:b,35:E,44:241,45:je,46:De,47:233,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},{16:Me,50:he,65:248,87:$e,157:242,159:243,160:244,171:247,173:246},e(qe,[2,38]),{50:[1,250],51:[1,251]},e(qe,[2,41]),e(qe,[2,43]),e(qe,[2,34]),e([6,8,14,17,128,134,137,143,145,149,151,153],Ue,{158:252,43:Ke,181:He}),e(Qe,[2,169]),e(Qe,[2,171],{162:255,165:257,36:Ge,163:We,164:Ve,166:ze,167:Ye,172:Je,176:Xe}),{161:[1,263]},e(Ze,[2,192]),e(Ze,[2,193]),e([6,8,14,17,36,43,49,50,88,128,134,137,143,145,149,151,153,163,164,166,167,172,176,178,179,191,192,193],Ue,{158:264,66:fe,181:He}),{4:265,16:Me,18:r,50:he,65:248,87:$e,157:266,159:243,160:244,171:247,173:246},e(qe,[2,40]),e(qe,[2,42]),e(et,[2,138],{127:267,128:[1,268]}),{16:Me,50:he,65:248,87:$e,159:269,160:244,171:247,173:246},{16:[1,270]},{172:[1,271]},{16:Me,50:he,65:248,173:272},{168:273,169:tt,172:rt},{165:276,166:ze,167:Ye,170:275,172:[2,180]},{172:[2,174]},{172:[2,175]},e(nt,[2,176]),e(nt,[2,177]),{16:Me,50:he,65:248,160:277,171:247,173:246},e(at,it,{182:278,65:280,49:ot,50:he}),{17:[1,281]},{17:[1,282],43:Ke},e(Le,[2,140],{129:283,130:284,134:[1,285]}),{16:b,35:E,47:286,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},e(Qe,[2,170]),{50:he,65:288,180:287},{16:Me,50:he,65:248,173:289},{175:290,178:lt},{172:[1,292]},{172:[2,179]},{172:[1,293]},{168:294,169:tt,172:rt},{36:Ge,88:[1,295],162:255,163:We,164:Ve,165:257,166:ze,167:Ye,172:Je,176:Xe},e(Ze,[2,209],{188:296,189:297,190:298,191:st,192:ut,193:ct}),{50:he,65:302},e(at,[2,200],{66:fe}),e(Ze,it,{65:280,182:303,49:ot,50:he}),e(Ze,[2,218]),e(pt,[2,154],{142:304,143:[1,305]}),e(Le,[2,141]),{16:b,35:E,47:32,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33,135:306,138:31},e(et,[2,139],{106:H,123:Q,124:G,125:W,126:V}),{17:[1,307],43:[1,308]},e(Ee,[2,194],{66:fe}),e([6,8,14,17,36,43,88,128,134,137,143,145,149,151,153,163,164,166,167,172,176,181],[2,182],{174:309,175:310,178:lt,179:dt}),e(Ze,[2,184]),{16:b,35:E,47:312,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},{16:Me,50:he,65:248,160:313,171:247,173:246},{16:Me,50:he,65:248,173:314},{172:[2,181]},e(Qe,[2,172]),e(Ze,[2,216]),e(Ze,[2,210]),e(Ze,[2,211]),{183:316,184:ft,185:ht},{183:319,184:ft,185:ht},{183:320,184:ft,185:ht},e(at,[2,199],{66:fe}),e(Ze,[2,217]),e(g,p,{136:18,11:321,137:d}),{16:b,35:E,47:322,50:O,51:T,52:47,53:48,54:S,55:C,56:49,57:_,58:w,59:50,60:L,61:38,62:40,65:39,74:46,75:x,77:41,78:N,79:37,80:I,81:A,82:R,83:k,85:B,86:F,87:j,89:36,100:D,103:35,119:33},e(Le,M,{131:323,43:$,132:U}),e([6,8,14,17,36,43,49,50,88,128,134,137,143,145,149,151,153,163,164,166,167,172,176,178,179,181,191,192,193],[2,197]),{50:he,65:324},e(Ze,[2,183]),e(Ze,[2,190]),{16:[1,325]},e(Ze,[2,189],{106:H,123:Q,124:G,125:W,126:V}),{36:Ge,162:255,163:We,164:Ve,165:257,166:ze,167:Ye,172:Je,174:326,175:310,176:Xe,178:lt,179:dt},e(Ze,[2,186]),{190:327,191:st,192:ut,193:ct},{16:vt,151:mt,186:328},e(yt,[2,201]),e(yt,[2,202]),{16:vt,151:mt,186:330},{16:vt,151:mt,186:331},e(q,m,{144:28,12:332,145:y}),e(pt,[2,155],{106:H,123:Q,124:G,125:W,126:V}),e(Le,[2,144]),e(Ee,[2,195],{66:fe}),{50:he,65:334,67:333},e(Ze,[2,185]),e(Ze,[2,212]),{16:[1,335]},{134:[1,338],137:[1,337],172:[1,336]},{16:[1,339]},{16:[1,340]},e(gt,[2,161],{147:341,148:342,149:[1,343]}),{17:[1,344],43:bt},e(Ee,[2,65],{66:fe}),{17:[2,207],50:he,65:334,67:347,187:346},{16:[2,204]},{16:[2,205]},{16:[2,206]},{50:he,65:334,67:348},{50:he,65:334,67:349},e(Pe,[2,164],{150:350,151:[1,351],153:[1,352]}),e(gt,[2,162]),{50:[1,354],62:353},e(Ze,[2,191]),{50:he,65:355},{17:[1,356]},{17:[2,208],43:bt},{17:[1,357],43:bt},{17:[1,358],43:bt},e(Pe,[2,168]),{152:[1,359]},{104:[1,360]},e(gt,[2,163]),{16:me},e(Ee,[2,66],{66:fe}),e(Ze,[2,213]),e(Ze,[2,214]),e(Ze,[2,215]),e(Pe,[2,165]),{154:[1,361]},{155:[1,362]},e(Pe,[2,166])],defaultActions:{11:[2,3],22:[2,1],24:[2,2],141:[2,120],142:[2,121],259:[2,174],260:[2,175],274:[2,179],294:[2,181],336:[2,204],337:[2,205],338:[2,206]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],a=[],i=this.table,o="",l=0,s=0,u=0,c=2,p=1,d=a.slice.call(arguments,1),f=Object.create(this.lexer),h={yy:{}};for(var v in this.yy)Object.prototype.hasOwnProperty.call(this.yy,v)&&(h.yy[v]=this.yy[v]);f.setInput(e,h.yy),h.yy.lexer=f,h.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;a.push(m);var y=f.options&&f.options.ranges;"function"==typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,b,E,O,T,S,C,_,w,L=function(){var e;return"number"!=typeof(e=f.lex()||p)&&(e=t.symbols_[e]||e),e},x={};;){if(E=r[r.length-1],this.defaultActions[E]?O=this.defaultActions[E]:(null==g&&(g=L()),O=i[E]&&i[E][g]),void 0===O||!O.length||!O[0]){var N="";for(S in w=[],i[E])this.terminals_[S]&&S>c&&w.push("'"+this.terminals_[S]+"'");N=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(l+1)+": Unexpected "+(g==p?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(N,{text:f.match,token:this.terminals_[g]||g,line:f.yylineno,loc:m,expected:w})}if(O[0]instanceof Array&&O.length>1)throw new Error("Parse Error: multiple actions possible at state: "+E+", token: "+g);switch(O[0]){case 1:r.push(g),n.push(f.yytext),a.push(f.yylloc),r.push(O[1]),g=null,b?(g=b,b=null):(s=f.yyleng,o=f.yytext,l=f.yylineno,m=f.yylloc,u>0&&u--);break;case 2:if(C=this.productions_[O[1]][1],x.$=n[n.length-C],x._$={first_line:a[a.length-(C||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(C||1)].first_column,last_column:a[a.length-1].last_column},y&&(x._$.range=[a[a.length-(C||1)].range[0],a[a.length-1].range[1]]),void 0!==(T=this.performAction.apply(x,[o,s,l,h.yy,O[1],n,a].concat(d))))return T;C&&(r=r.slice(0,-1*C*2),n=n.slice(0,-1*C),a=a.slice(0,-1*C)),r.push(this.productions_[O[1]][0]),n.push(x.$),a.push(x._$),_=i[r[r.length-2]][r[r.length-1]],r.push(_);break;case 3:return!0}}return!0}},Ot={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var a=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,a;if(this.options.backtrack_lexer&&(a={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(a.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var i in a)this[i]=a[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),i=0;i<a.length;i++)if((r=this._input.match(this.rules[a[i]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,a[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,a[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,r,n){switch(r){case 0:case 1:case 2:case 3:break;case 4:case 5:case 6:return 50;case 7:return 18;case 8:return 29;case 9:return 118;case 10:return 30;case 11:return 31;case 12:return 32;case 13:return 33;case 14:return 36;case 15:return 37;case 16:return 38;case 17:return 39;case 18:return 40;case 19:return 41;case 20:return 42;case 21:return 46;case 22:return 49;case 23:return 57;case 24:return 58;case 25:return 60;case 26:return"COLLATE";case 27:return 83;case 28:return 85;case 29:return 86;case 30:return 75;case 31:return 70;case 32:return 71;case 33:return 73;case 34:return 76;case 35:return 95;case 36:return 96;case 37:return 100;case 38:return 105;case 39:return 104;case 40:return 107;case 41:return 108;case 42:return 102;case 43:return 109;case 44:return 120;case 45:return 122;case 46:return 106;case 47:return 125;case 48:return 126;case 49:return 156;case 50:return 181;case 51:return 191;case 52:return 184;case 53:return 185;case 54:return 151;case 55:return 172;case 56:return 137;case 57:return 134;case 58:return 192;case 59:return 193;case 60:return 163;case 61:return 164;case 62:return 178;case 63:return 179;case 64:return 166;case 65:return 167;case 66:return 169;case 67:return 176;case 68:return 128;case 69:return 140;case 70:return 141;case 71:return 132;case 72:return 133;case 73:return 143;case 74:return 146;case 75:return 149;case 76:return 152;case 77:return 153;case 78:return 154;case 79:return 155;case 80:return 161;case 81:return 145;case 82:return 14;case 83:return 43;case 84:return 34;case 85:return 16;case 86:return 17;case 87:return 81;case 88:return 116;case 89:return 82;case 90:return 90;case 91:return 91;case 92:return 78;case 93:return 80;case 94:return 45;case 95:return 94;case 96:return 97;case 97:return 98;case 98:return 93;case 99:return 111;case 100:return 112;case 101:return 92;case 102:return"<=>";case 103:return 113;case 104:return 115;case 105:return 114;case 106:return 87;case 107:return 88;case 108:return 8;case 109:case 110:return 51;case 111:return 55;case 112:return 35;case 113:return 54;case 114:return 50;case 115:return 66;case 116:case 117:return 51;case 118:return 50;case 119:return 6;case 120:return"INVALID"}},rules:[/^(?:[\/][*](.|\n)*?[*][\/])/i,/^(?:[-][-]\s.*\n)/i,/^(?:[#]\s.*\n)/i,/^(?:\s+)/i,/^(?:[`][a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*[`])/i,/^(?:[\w]+[\u4e00-\u9fa5]+[0-9a-zA-Z_\u4e00-\u9fa5]*)/i,/^(?:[\u4e00-\u9fa5][0-9a-zA-Z_\u4e00-\u9fa5]*)/i,/^(?:SELECT\b)/i,/^(?:ALL\b)/i,/^(?:ANY\b)/i,/^(?:DISTINCT\b)/i,/^(?:DISTINCTROW\b)/i,/^(?:HIGH_PRIORITY\b)/i,/^(?:MAX_STATEMENT_TIME\b)/i,/^(?:STRAIGHT_JOIN\b)/i,/^(?:SQL_SMALL_RESULT\b)/i,/^(?:SQL_BIG_RESULT\b)/i,/^(?:SQL_BUFFER_RESULT\b)/i,/^(?:SQL_CACHE\b)/i,/^(?:SQL_NO_CACHE\b)/i,/^(?:SQL_CALC_FOUND_ROWS\b)/i,/^(?:([a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*\.){1,2}\*)/i,/^(?:AS\b)/i,/^(?:TRUE\b)/i,/^(?:FALSE\b)/i,/^(?:NULL\b)/i,/^(?:COLLATE\b)/i,/^(?:BINARY\b)/i,/^(?:ROW\b)/i,/^(?:EXISTS\b)/i,/^(?:CASE\b)/i,/^(?:WHEN\b)/i,/^(?:THEN\b)/i,/^(?:ELSE\b)/i,/^(?:END\b)/i,/^(?:DIV\b)/i,/^(?:MOD\b)/i,/^(?:NOT\b)/i,/^(?:BETWEEN\b)/i,/^(?:IN\b)/i,/^(?:SOUNDS\b)/i,/^(?:LIKE\b)/i,/^(?:ESCAPE\b)/i,/^(?:REGEXP\b)/i,/^(?:IS\b)/i,/^(?:UNKNOWN\b)/i,/^(?:AND\b)/i,/^(?:OR\b)/i,/^(?:XOR\b)/i,/^(?:FROM\b)/i,/^(?:PARTITION\b)/i,/^(?:USE\b)/i,/^(?:INDEX\b)/i,/^(?:KEY\b)/i,/^(?:FOR\b)/i,/^(?:JOIN\b)/i,/^(?:ORDER\s+BY\b)/i,/^(?:GROUP\s+BY\b)/i,/^(?:IGNORE\b)/i,/^(?:FORCE\b)/i,/^(?:INNER\b)/i,/^(?:CROSS\b)/i,/^(?:ON\b)/i,/^(?:USING\b)/i,/^(?:LEFT\b)/i,/^(?:RIGHT\b)/i,/^(?:OUTER\b)/i,/^(?:NATURAL\b)/i,/^(?:WHERE\b)/i,/^(?:ASC\b)/i,/^(?:DESC\b)/i,/^(?:WITH\b)/i,/^(?:ROLLUP\b)/i,/^(?:HAVING\b)/i,/^(?:OFFSET\b)/i,/^(?:PROCEDURE\b)/i,/^(?:UPDATE\b)/i,/^(?:LOCK\b)/i,/^(?:SHARE\b)/i,/^(?:MODE\b)/i,/^(?:OJ\b)/i,/^(?:LIMIT\b)/i,/^(?:UNION\b)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\()/i,/^(?:\))/i,/^(?:~)/i,/^(?:!=)/i,/^(?:!)/i,/^(?:\|)/i,/^(?:&)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:\*)/i,/^(?:\/)/i,/^(?:%)/i,/^(?:\^)/i,/^(?:>>)/i,/^(?:>=)/i,/^(?:>)/i,/^(?:<<)/i,/^(?:<=>)/i,/^(?:<=)/i,/^(?:<>)/i,/^(?:<)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:;)/i,/^(?:['](\\.|[^'])*['])/i,/^(?:["](\\.|[^"])*["])/i,/^(?:[0][x][0-9a-fA-F]+)/i,/^(?:[-]?[0-9]+(\.[0-9]+)?)/i,/^(?:[-]?[0-9]+(\.[0-9]+)?[eE][-][0-9]+(\.[0-9]+)?)/i,/^(?:[a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*)/i,/^(?:\.)/i,/^(?:["][a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*["])/i,/^(?:['][a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*['])/i,/^(?:([`])(?:(?=(\\?))\2.)*?\1)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],inclusive:!0}}};function Tt(){this.yy={}}return Et.lexer=Ot,Tt.prototype=Et,Et.Parser=Tt,new Tt}();function i(){this.buffer=""}a||(a={}),a.stringify=function(e){var t=new i;return t.travelMain(e),t.buffer},i.prototype.travel=function(e){if(e){if("string"==typeof e)return this.append(e);this["travel"+e.type].call(this,e)}};var o=!1;i.prototype.appendKeyword=function(e,t,r){o&&(t=!0,o=!1),this.buffer+=t?e.toUpperCase():" "+e.toUpperCase(),r&&(o=!0)},i.prototype.append=function(e,t,r){o&&(t=!0,o=!1),this.buffer+=t?e:" "+e,r&&(o=!0)},i.prototype.travelMain=function(e){this.travel(e.value),e.hasSemicolon&&this.append(";",!0)},i.prototype.travelSelect=function(e){this.appendKeyword("select"),e.distinctOpt&&this.appendKeyword(e.distinctOpt),e.highPriorityOpt&&this.appendKeyword(e.highPriorityOpt),e.maxStateMentTimeOpt&&this.append("MAX_STATEMENT_TIME = "+e.maxStateMentTimeOpt),e.straightJoinOpt&&this.appendKeyword(e.straightJoinOpt),e.sqlSmallResultOpt&&this.appendKeyword(e.sqlSmallResultOpt),e.sqlBigResultOpt&&this.appendKeyword(e.sqlBigResultOpt),e.sqlBufferResultOpt&&this.appendKeyword(e.sqlBufferResultOpt),e.sqlCacheOpt&&this.appendKeyword(e.sqlCacheOpt),e.sqlCalcFoundRowsOpt&&this.appendKeyword(e.sqlCalcFoundRowsOpt),e.selectItems&&this.travelSelectExpr(e.selectItems),e.from&&(this.appendKeyword("from"),this.travel(e.from)),e.partition&&this.travel(e.partition),e.where&&(this.appendKeyword("where"),this.travel(e.where)),e.groupBy&&this.travel(e.groupBy),e.having&&(this.appendKeyword("having"),this.travel(e.having)),e.orderBy&&this.travel(e.orderBy),e.limit&&this.travel(e.limit),e.procedure&&(this.appendKeyword("procedure"),this.travel(e.procedure)),e.updateLockMode&&this.appendKeyword(e.updateLockMode)},i.prototype.travelSelectExpr=function(e){for(var t=e.value,r=0;r<t.length;r++)"string"==typeof e?this.append(t[r]):(this.travel(t[r]),t[r].alias&&(t[r].hasAs&&this.appendKeyword("as"),this.travel(t[r].alias))),r!==t.length-1&&this.append(",",!0)},i.prototype.travelIsExpression=function(e){this.travel(e.left),this.appendKeyword("in"),e.hasNot&&this.appendKeyword("not"),this.append(e.right)},i.prototype.travelNotExpression=function(e){this.appendKeyword("not"),this.travel(e.value)},i.prototype.travelOrExpression=i.prototype.travelAndExpression=i.prototype.travelXORExpression=function(e){this.travel(e.left),this.appendKeyword(e.operator),this.travel(e.right)},i.prototype.travelNull=i.prototype.travelBoolean=i.prototype.travelBooleanExtra=function(e){this.appendKeyword(e.value)},i.prototype.travelNumber=function(e){this.append(e.value)},i.prototype.travelString=function(e){this.append(e.value)},i.prototype.travelFunctionCall=function(e){this.append(e.name),this.append("(",!0,!0);for(var t=e.params,r=0;r<t.length;r++){var n=t[r];this.travel(n),r!==t.length-1&&this.append(",",!0)}this.append(")",!0)},i.prototype.travelFunctionCallParam=function(e){e.distinctOpt&&this.appendKeyword(e.distinctOpt),this.travel(e.value)},i.prototype.travelIdentifier=function(e){this.append(e.value)},i.prototype.travelIdentifierList=function(e){for(var t=e.value,r=0;r<t.length;r++)this.travel(t[r]),r!==t.length-1&&this.append(",",!0)},i.prototype.travelWhenThenList=function(e){for(var t=e.value,r=0;r<t.length;r++)this.appendKeyword("when"),this.travel(t[r].when),this.appendKeyword("then"),this.travel(t[r].then)},i.prototype.travelCaseWhen=function(e){this.appendKeyword("case"),e.caseExprOpt&&this.travel(e.caseExprOpt),this.travel(e.whenThenList),e.else&&(this.appendKeyword("else"),this.travel(e.else)),this.appendKeyword("end")},i.prototype.travelPrefix=function(e){this.appendKeyword(e.prefix),this.travel(e.value)},i.prototype.travelSimpleExprParentheses=function(e){e.hasRow&&this.appendKeyword("row"),this.append("(",!1,!0),this.travel(e.value),this.append(")",!0)},i.prototype.travelSubQuery=function(e){e.hasExists&&this.appendKeyword("exists"),this.append("(",!1,!0),this.travel(e.value),this.append(")",!0)},i.prototype.travelIdentifierExpr=function(e){this.append("{"),this.travel(e.identifier),this.travel(e.value),this.append("}")},i.prototype.travelBitExpression=function(e){this.travel(e.left),this.appendKeyword(e.operator),this.travel(e.right)},i.prototype.travelInSubQueryPredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("in"),this.append("(",!1,!0),this.travel(e.right),this.append(")")},i.prototype.travelInExpressionListPredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("in"),this.append("(",!1,!0),this.travel(e.right),this.append(")")},i.prototype.travelBetweenPredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("between"),this.travel(e.right.left),this.appendKeyword("and"),this.travel(e.right.right)},i.prototype.travelSoundsLikePredicate=function(e){this.travel(e.left),this.appendKeyword("sounds"),this.appendKeyword("like"),this.travel(e.right)},i.prototype.travelLikePredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("like"),this.travel(e.right),e.escape&&(this.appendKeyword("escape"),this.travel(e.escape))},i.prototype.travelRegexpPredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("regexp"),this.travel(e.right)},i.prototype.travelIsNullBooleanPrimary=function(e){this.travel(e.value),this.appendKeyword("is"),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("null")},i.prototype.travelComparisonBooleanPrimary=function(e){this.travel(e.left),this.append(e.operator),this.travel(e.right)},i.prototype.travelComparisonSubQueryBooleanPrimary=function(e){this.travel(e.left),this.append(e.operator),this.appendKeyword(e.subQueryOpt),this.append("(",!1,!0),this.travel(e.right),this.append(")")},i.prototype.travelExpressionList=function(e){for(var t=e.value,r=0;r<t.length;r++)this.travel(t[r]),r!==t.length-1&&this.append(",",!0)},i.prototype.travelGroupBy=function(e){this.appendKeyword("group by");for(var t=e.value,r=0;r<t.length;r++)this.travel(t[r]),r!==t.length-1&&this.append(",",!0)},i.prototype.travelOrderBy=function(e){this.appendKeyword("order by");for(var t=e.value,r=0;r<t.length;r++)this.travel(t[r]),r!==t.length-1&&this.append(",",!0);e.rollUp&&this.appendKeyword("with rollup")},i.prototype.travelGroupByOrderByItem=function(e){this.travel(e.value),e.sortOpt&&this.appendKeyword(e.sortOpt)},i.prototype.travelLimit=function(e){this.appendKeyword("limit");var t=e.value;1===t.length?this.append(t[0]):2===t.length&&(e.offsetMode?(this.append(t[1]),this.append("offset"),this.append(t[0])):(this.append(t[0]),this.append(",",!0),this.append(t[1])))},i.prototype.travelTableReferences=function(e){var t=e.value;e.TableReferences&&this.append("(",!1,!0);for(var r=0;r<t.length;r++)this.travel(t[r]),r!==t.length-1&&this.append(",",!0);e.TableReferences&&this.append(")")},i.prototype.travelTableReference=function(e){e.hasOj?(this.append("{"),this.appendKeyword("oj"),this.travel(e.value),this.append("}")):this.travel(e.value)},i.prototype.travelInnerCrossJoinTable=function(e){this.travel(e.left),e.innerCrossOpt&&this.appendKeyword(e.innerCrossOpt),this.appendKeyword("join"),this.travel(e.right),e.condition&&this.travel(e.condition)},i.prototype.travelStraightJoinTable=function(e){this.travel(e.left),this.appendKeyword("straight_join"),this.travel(e.right),this.travel(e.condition)},i.prototype.travelLeftRightJoinTable=function(e){this.travel(e.left),this.appendKeyword(e.leftRight),e.outOpt&&this.appendKeyword(e.outOpt),this.appendKeyword("join"),this.travel(e.right),this.travel(e.condition)},i.prototype.travelNaturalJoinTable=function(e){this.travel(e.left),this.appendKeyword("natural"),e.leftRight&&this.appendKeyword(e.leftRight),e.outOpt&&this.appendKeyword(e.outOpt),this.appendKeyword("join"),this.travel(e.right)},i.prototype.travelOnJoinCondition=function(e){this.appendKeyword("on"),this.travel(e.value)},i.prototype.travelUsingJoinCondition=function(e){this.appendKeyword("using"),this.appendKeyword("(",!1,!0),this.travel(e.value),this.appendKeyword(")")},i.prototype.travelPartitions=function(e){this.appendKeyword("partition"),this.appendKeyword("(",!1,!0);for(var t=e.value,r=0;r<t.length;r++)this.travel(t[r]),r!==t.length-1&&this.append(",",!0);this.appendKeyword(")")},i.prototype.travelForOptIndexHint=function(e){this.appendKeyword("for"),this.appendKeyword(e.value)},i.prototype.travelIndexList=function(e){for(var t=e.value,r=0;r<t.length;r++)this.travel(t[r]),r!==t.length-1&&this.append(",",!0)},i.prototype.travelUseIndexHint=function(e){this.appendKeyword("use"),this.appendKeyword(e.indexOrKey),e.forOpt&&this.travel(e.forOpt),this.appendKeyword("(",!1,!0),e.value&&this.travel(e.value),this.appendKeyword(")")},i.prototype.travelIgnoreIndexHint=function(e){this.appendKeyword("ignore"),this.appendKeyword(e.indexOrKey),e.forOpt&&this.travel(e.forOpt),this.appendKeyword("(",!1,!0),e.value&&this.travel(e.value),this.appendKeyword(")")},i.prototype.travelForceIndexHint=function(e){this.appendKeyword("force"),this.appendKeyword(e.indexOrKey),e.forOpt&&this.travel(e.forOpt),this.appendKeyword("(",!1,!0),e.value&&this.travel(e.value),this.appendKeyword(")")},i.prototype.travelTableFactor=function(e){this.travel(e.value),e.partition&&this.travel(e.partition),e.alias&&(e.hasAs&&this.appendKeyword("as"),this.travel(e.alias)),e.indexHintOpt&&this.travel(e.indexHintOpt)},i.prototype.travelUnion=function(e){this.travel(e.left),this.appendKeyword("UNION"),e.distinctOpt&&this.appendKeyword(e.distinctOpt),this.travel(e.right)},i.prototype.travelSelectParenthesized=function(e){this.appendKeyword("("),this.travel(e.value),this.appendKeyword(")")};void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)},function(e,t,r){var n=r(20),a=r(21),i=r(54),o=r(104),l=a((function(e){return e.push(void 0,i),n(o,void 0,e)}));e.exports=l},function(e,t,r){var n=r(20),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,l=a(i.length-t,0),s=Array(l);++o<l;)s[o]=i[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),n(e,this,u)}}},function(e,t,r){var n=r(43),a=r(53)(n);e.exports=a},function(e,t,r){var n=r(44),a=r(23),i=r(22),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,r){var n=r(16),a=r(49),i=r(5),o=r(51),l=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,p=u.hasOwnProperty,d=RegExp("^"+c.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(n(e)?d:l).test(o(e))}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(24),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,l=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,l),r=e[l];try{e[l]=void 0;var n=!0}catch(e){}var a=o.call(e);return n&&(t?e[l]=r:delete e[l]),a}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n,a=r(50),i=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},function(e,t,r){var n=r(7)["__core-js_shared__"];e.exports=n},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){var r=Date.now;e.exports=function(e){var t=0,n=0;return function(){var a=r(),i=16-(a-n);if(n=a,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,r){var n=r(26),a=r(5);e.exports=function e(t,r,i,o,l,s){return a(t)&&a(r)&&(s.set(r,t),n(t,r,void 0,e,s),s.delete(r)),t}},function(e,t,r){var n=r(10),a=r(61),i=r(62),o=r(63),l=r(64),s=r(65);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=a,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=l,u.prototype.set=s,e.exports=u},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(11),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},function(e,t,r){var n=r(11);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(11);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(11);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},function(e,t,r){var n=r(10);e.exports=function(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(10),a=r(27),i=r(66);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(o)}return r.set(e,t),this.size=r.size,this}},function(e,t,r){var n=r(67),a=r(74),i=r(76),o=r(77),l=r(78);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=l,e.exports=s},function(e,t,r){var n=r(68),a=r(10),i=r(27);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||a),string:new n}}},function(e,t,r){var n=r(69),a=r(70),i=r(71),o=r(72),l=r(73);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=o,s.prototype.set=l,e.exports=s},function(e,t,r){var n=r(13);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(13),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(13),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},function(e,t,r){var n=r(13);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,r){var n=r(14);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(14);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(14);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(14);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},function(e,t,r){var n=r(80)();e.exports=n},function(e,t){e.exports=function(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var s=o[e?l:++a];if(!1===r(i[s],s,i))break}return t}}},function(e,t,r){var n=r(28),a=r(82),i=r(83),o=r(86),l=r(87),s=r(31),u=r(32),c=r(91),p=r(34),d=r(16),f=r(5),h=r(93),v=r(35),m=r(36),y=r(97);e.exports=function(e,t,r,g,b,E,O){var T=m(e,r),S=m(t,r),C=O.get(S);if(C)n(e,r,C);else{var _=E?E(T,S,r+"",e,t,O):void 0,w=void 0===_;if(w){var L=u(S),x=!L&&p(S),N=!L&&!x&&v(S);_=S,L||x||N?u(T)?_=T:c(T)?_=o(T):x?(w=!1,_=a(S,!0)):N?(w=!1,_=i(S,!0)):_=[]:h(S)||s(S)?(_=T,s(T)?_=y(T):f(T)&&!d(T)||(_=l(S))):w=!1}w&&(O.set(S,_),b(_,S,g,E,O),O.delete(S)),n(e,r,_)}}},function(e,t,r){(function(e){var n=r(7),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a?n.Buffer:void 0,l=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=l?l(r):new e.constructor(r);return e.copy(n),n}}).call(this,r(18)(e))},function(e,t,r){var n=r(84);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t,r){var n=r(85);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t,r){var n=r(7).Uint8Array;e.exports=n},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(88),a=r(29),i=r(30);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:n(a(e))}},function(e,t,r){var n=r(5),a=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(a)return a(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(9),a=r(8);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},function(e,t,r){var n=r(19),a=r(8);e.exports=function(e){return a(e)&&n(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(9),a=r(29),i=r(8),o=Function.prototype,l=Object.prototype,s=o.toString,u=l.hasOwnProperty,c=s.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==c}},function(e,t,r){var n=r(9),a=r(33),i=r(8),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(25),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a&&n.process,l=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=l}).call(this,r(18)(e))},function(e,t,r){var n=r(98),a=r(37);e.exports=function(e){return n(e,a(e))}},function(e,t,r){var n=r(99),a=r(17);e.exports=function(e,t,r,i){var o=!r;r||(r={});for(var l=-1,s=t.length;++l<s;){var u=t[l],c=i?i(r[u],e[u],u,r,e):void 0;void 0===c&&(c=e[u]),o?a(r,u,c):n(r,u,c)}return r}},function(e,t,r){var n=r(17),a=r(12),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var o=e[t];i.call(e,t)&&a(o,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(101),a=r(31),i=r(32),o=r(34),l=r(38),s=r(35),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),c=!r&&a(e),p=!r&&!c&&o(e),d=!r&&!c&&!p&&s(e),f=r||c||p||d,h=f?n(e.length,String):[],v=h.length;for(var m in e)!t&&!u.call(e,m)||f&&("length"==m||p&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||l(m,v))||h.push(m);return h}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(5),a=r(30),i=r(103),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=a(e),r=[];for(var l in e)("constructor"!=l||!t&&o.call(e,l))&&r.push(l);return r}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){var n=r(26),a=r(105)((function(e,t,r,a){n(e,t,r,a)}));e.exports=a},function(e,t,r){var n=r(21),a=r(106);e.exports=function(e){return n((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,l=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,l&&a(r[0],r[1],l)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t}))}},function(e,t,r){var n=r(12),a=r(19),i=r(38),o=r(5);e.exports=function(e,t,r){if(!o(r))return!1;var l=typeof t;return!!("number"==l?a(r)&&i(t,r.length):"string"==l&&t in r)&&n(r[t],e)}},function(e,t,r){"use strict";r.r(t);var n=r(3),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{s(n.next(e))}catch(e){i(e)}}function l(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,l)}s((n=n.apply(e,t||[])).next())}))}function l(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}Object.create;function s(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}function p(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create;var d,f,h,v,m,y,g=r(6);!function(e){e[e.TIMESERIES=0]="TIMESERIES",e[e.TABLE=1]="TABLE",e[e.LOGS=2]="LOGS"}(d||(d={})),function(e){e.SQL="sql",e.Builder="builder"}(f||(f={})),function(e){e.List="list",e.Aggregate="aggregate",e.Trend="trend"}(h||(h={})),function(e){e.Sum="sum",e.Average="avg",e.Min="min",e.Max="max",e.Count="count"}(v||(v={})),function(e){e.ASC="ASC",e.DESC="DESC"}(m||(m={})),function(e){e.IsNull="IS NULL",e.IsNotNull="IS NOT NULL",e.Equals="=",e.NotEquals="!=",e.LessThan="<",e.LessThanOrEqual="<=",e.GreaterThan=">",e.GreaterThanOrEqual=">=",e.Like="LIKE",e.NotLike="NOT LIKE",e.In="IN",e.NotIn="NOT IN",e.WithInGrafanaTimeRange="WITH IN DASHBOARD TIME RANGE",e.OutsideGrafanaTimeRange="OUTSIDE DASHBOARD TIME RANGE"}(y||(y={}));f.Builder;var b,E={queryType:f.Builder,rawSql:"",builderOptions:{mode:h.List,fields:[],limit:100},format:d.TABLE};f.SQL,d.TABLE;!function(e){e[e.lineHeight=59]="lineHeight"}(b||(b={}));var O=r(2);function T(e){var t,r,n=((t=new Map).set("",[]),t.set("WITH",[]),t.set("SELECT",[]),t.set("DISTINCT",[]),t.set("FROM",[]),t.set("SAMPLE",[]),t.set("JOIN",[]),t.set("PREWHERE",[]),t.set("WHERE",[]),t.set("GROUP BY",[]),t.set("LIMIT BY",[]),t.set("HAVING",[]),t.set("ORDER BY",[]),t.set("LIMIT",[]),t.set("OFFSET",[]),t.set("UNION",[]),t.set("INTERSECT",[]),t.set("EXCEPT",[]),t.set("INTO OUTFILE",[]),t.set("FORMAT",[]),t),a=/\b(WITH|SELECT|DISTINCT|FROM|SAMPLE|JOIN|PREWHERE|WHERE|GROUP BY|LIMIT BY|HAVING|ORDER BY|LIMIT|OFFSET|UNION|INTERSECT|EXCEPT|INTO OUTFILE|FORMAT)\b/gi,i={count:0,lastCount:0,phrase:""},o="";for(n.set("",[e.split(a,2)[0]]);null!==(r=a.exec(e));){var l=r[0].toUpperCase(),s=e.substring(a.lastIndex,e.length).split(a,2)[0];i.count>0?i.phrase+=l+s:(n.set(l,C(s)),o=l,i.phrase=s),i.count+=(s.match(/\(/g)||[]).length,i.count-=(s.match(/\)/g)||[]).length,i.count<=0&&i.lastCount>0&&n.set(o,C(i.phrase)),i.lastCount=i.count}return n}function S(e){var t="";return e.forEach((function(e,r){var n,a,i=r+" ";try{for(var o=s(e),l=o.next();!l.done;l=o.next()){var u=l.value;Object(O.isString)(u)?i+=u.trim()+" ":null!==u&&(i+=S(u)+" ")}}catch(e){n={error:e}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}i!==r+" "&&(t+=i)})),t.trim().replace(/\s+/g," ")}function C(e){for(var t,r=[],n=/(\bAND\b|\bOR\b|,)/gi,a={count:0,lastCount:0,phrase:""},i=0;null!==(t=n.exec(e));){var o=t[0].toUpperCase(),l=e.substring(i,t.index);i=n.lastIndex,a.count+=(l.match(/\(/g)||[]).length,a.count-=(l.match(/\)/g)||[]).length,a.count>0?a.phrase+=l+o:a.lastCount<=0&&(_(r,l),r.push(o)),a.count<=0&&a.lastCount>0&&(a.phrase+=l,_(r,a.phrase),r.push(o),a.phrase=""),a.lastCount=a.count}var s=e.substring(i,e.length);return a.count>0?a.phrase+=s:a.phrase=s,_(r,a.phrase),r}function _(e,t){t.match(/\bSELECT\b/gi)?e.push(T(t)):e.push(t)}var w=function(){function e(){this._targetTable=""}return e.prototype.setTargetTable=function(e){this._targetTable=e},e.prototype.setTargetTableFromQuery=function(e){var t=T(e);this.setTargetTableFromAST(t)},e.prototype.setTargetTableFromAST=function(e){if(e.get("FROM")){var t=e.get("FROM")[0];Object(O.isString)(t)?this._targetTable=t.trim().replace(/(\(|\)|,)/gi,""):t&&this.setTargetTableFromAST(t)}},e.prototype.apply=function(e,t){if(""===e||!t||0===t.length)return e;var r=t[0];if(r.key.includes(".")&&(this._targetTable=r.key.split(".")[0]),""===this._targetTable)return e;for(var n="",a=0;a<t.length;a++){var i=t[a],o=isNaN(Number(i.value))?"'"+i.value+"'":Number(i.value);n+=" "+i.key+" "+i.operator+" "+o+" ",a!==t.length-1&&(n+=i.condition?i.condition:"AND")}var l=T(e=e.replace(";",""));return function e(t,r,n){var a,i;if(!t||!t.get("FROM"))return t;if(!n)return t;try{for(var o=s(t.get("FROM")),l=o.next();!l.done;l=o.next()){var u=l.value;if(Object(O.isString)(u)){var c=RegExp("\\b"+n+"\\b","g");if(!u.match(c))continue;var p=t.get("WHERE");if(0===(null==p?void 0:p.length)){var d=t.get("FROM"),f=d[d.length-1].toString().trim().substring(n.length);t.set("WHERE",[r+" "+f]);var h=t.get("FROM").indexOf(u);t.get("FROM")[h]=" "+n+" ";continue}p.unshift(r+" AND ")}}}catch(e){a={error:e}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return t.forEach((function(t){var a,i;try{for(var o=s(t),l=o.next();!l.done;l=o.next()){var u=l.value;null===u||Object(O.isString)(u)||e(u,r,n)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}})),t}(l,n,this._targetTable),S(l)},e}();function L(e,t,r){var n,a,i,o,l,u;if(""===e||!t||0===t.length)return e;var c=[];try{for(var p=s(t),d=p.next();!d.done;d=p.next()){var f=d.value;if("query"===f.type){var h=null!==(o=null===(i=null==r?void 0:r[f.name])||void 0===i?void 0:i.value)&&void 0!==o?o:null===(u=null===(l=f)||void 0===l?void 0:l.current)||void 0===u?void 0:u.value;"$__all"===(null==h?void 0:h.toString())&&c.push(f.name)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}var v=T(e=e.replace(";",""));return function e(t,r){if(!t||!t.get("FROM"))return t;var n=t.get("WHERE");if(n)for(var a,i=function(e){var i=n[e];Object(O.isString)(i)&&r.some((function(e){return i.includes(e)}))&&i.includes("$")&&(e===n.length-1&&n.splice(e-1,2),n.length>1&&(n.splice(e,2),e--),function(e,t){var r,n,a,i,o,l,s,u,c=(e.match(/\)/g)||[]).length-(e.match(/\(/g)||[]).length;if(c<=0)return;var p=/\)/g,d=[];for(;null!==p.exec(e);)d.push(p.lastIndex);var f=d[d.length-c]-1,h=e.substring(f,e.length);0!==(null===(r=t.get("PREWHERE"))||void 0===r?void 0:r.length)?null===(n=t.get("PREWHERE"))||void 0===n||n.push(h):0!==(null===(a=t.get("JOIN"))||void 0===a?void 0:a.length)?null===(i=t.get("JOIN"))||void 0===i||i.push(h):0!==(null===(o=t.get("SAMPLE"))||void 0===o?void 0:o.length)?null===(l=t.get("SAMPLE"))||void 0===l||l.push(h):0!==(null===(s=t.get("FROM"))||void 0===s?void 0:s.length)&&(null===(u=t.get("FROM"))||void 0===u||u.push(h))}(i,t)),a=e},o=0;o<n.length;o++)i(o),o=a;return t.forEach((function(t){var n,a;try{for(var i=s(t),o=i.next();!o.done;o=i.next()){var l=o.value;null===l||Object(O.isString)(l)||e(l,r)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}})),t}(v,c),S(v)}var x,N=function(e){function t(t){var r=e.call(this,t)||this;return r.annotations={},r.skipAdHocFilter=!1,r.settings=t,r.adHocFilter=new w,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.metricFindQuery=function(e,t){var r,a,s,u,c;return o(this,void 0,void 0,(function(){var o,p,d,h;return l(this,(function(l){switch(l.label){case 0:return(o=Object(O.isString)(e)?{rawSql:e,queryType:f.SQL}:e).queryType!==f.SQL&&o.queryType!==f.Builder&&o.queryType?[2,[]]:o.rawSql?(p=i(i({},o),{queryType:o.queryType||f.SQL}),[4,this.runQuery(p,t)]):[2,[]];case 1:return d=l.sent(),0===(null===(r=d.fields)||void 0===r?void 0:r.length)?[2,[]]:1===(null===(a=null==d?void 0:d.fields)||void 0===a?void 0:a.length)?[2,Object(n.vectorator)(null===(s=null==d?void 0:d.fields[0])||void 0===s?void 0:s.values).map((function(e){return{text:e,value:e}}))]:(h=null===(u=null==d?void 0:d.fields[0])||void 0===u?void 0:u.values,[2,Object(n.vectorator)(null===(c=null==d?void 0:d.fields[1])||void 0===c?void 0:c.values).map((function(e,t){return{text:e,value:h.get(t)}}))])}}))}))},t.prototype.applyTemplateVariables=function(e,t){var r,n=e.rawSql||"",a=Object(g.getTemplateSrv)();if(!this.skipAdHocFilter){var o=null===(r=a)||void 0===r?void 0:r.getAdhocFilters(this.name);n=this.adHocFilter.apply(n,o)}return this.skipAdHocFilter=!1,n=L(n,a.getVariables(),t),i(i({},e),{rawSql:this.replace(n,t)||""})},t.prototype.replace=function(e,t){return void 0!==e?Object(g.getTemplateSrv)().replace(e,t,this.format):e},t.prototype.format=function(e){return Array.isArray(e)?"'"+e.join("','")+"'":e},t.prototype.getDefaultDatabase=function(){return this.settings.jsonData.defaultDatabase},t.prototype.fetchDatabases=function(){return o(this,void 0,Promise,(function(){return l(this,(function(e){return[2,this.fetchData("SHOW DATABASES")]}))}))},t.prototype.fetchTables=function(e){return o(this,void 0,Promise,(function(){var t;return l(this,(function(r){return t=e?"SHOW TABLES FROM "+e:"SHOW TABLES",[2,this.fetchData(t)]}))}))},t.prototype.fetchEntities=function(){return o(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this.fetchTables()]}))}))},t.prototype.fetchFields=function(e,t){return o(this,void 0,Promise,(function(){return l(this,(function(r){return[2,this.fetchData("DESC TABLE "+e+"."+t)]}))}))},t.prototype.fetchFieldsFull=function(e,t){var r;return o(this,void 0,Promise,(function(){var a,i;return l(this,(function(o){switch(o.label){case 0:return a="DESC TABLE "+e+(""===e?"":".")+t,[4,this.runQuery({rawSql:a})];case 1:return i=o.sent(),0===(null===(r=i.fields)||void 0===r?void 0:r.length)?[2,[]]:[2,new n.DataFrameView(i).map((function(e){return{name:e[0],type:e[1],label:e[0],picklistValues:[]}}))]}}))}))},t.prototype.fetchData=function(e){return o(this,void 0,void 0,(function(){var t;return l(this,(function(r){switch(r.label){case 0:return[4,this.runQuery({rawSql:e})];case 1:return t=r.sent(),[2,this.values(t)]}}))}))},t.prototype.runQuery=function(e,t){var r=this;return new Promise((function(n){var a={targets:[i(i({},e),{refId:String(Math.random())})],range:null==t?void 0:t.range};r.query(a).subscribe((function(e){n(e.data[0]||{fields:[]})}))}))},t.prototype.values=function(e){var t,r;return 0===(null===(t=e.fields)||void 0===t?void 0:t.length)?[]:Object(n.vectorator)(null===(r=null==e?void 0:e.fields[0])||void 0===r?void 0:r.values).map((function(e){return e}))},t.prototype.getTagKeys=function(){return o(this,void 0,Promise,(function(){var e,t,r;return l(this,(function(a){switch(a.label){case 0:return[4,this.fetchTags()];case 1:return e=a.sent(),t=e.type,r=e.frame,t===x.query?[2,r.fields.map((function(e){return{text:e.name}}))]:[2,new n.DataFrameView(r).map((function(e){return{text:e[2]+"."+e[0]}}))]}}))}))},t.prototype.getTagValues=function(e){var t=e.key;return o(this,void 0,Promise,(function(){var e;return l(this,(function(r){return e=this.getTagSource().type,this.skipAdHocFilter=!0,e===x.query?[2,this.fetchTagValuesFromQuery(t)]:[2,this.fetchTagValuesFromSchema(t)]}))}))},t.prototype.fetchTagValuesFromSchema=function(e){var t;return o(this,void 0,Promise,(function(){var r,a,i,o,s,c,p,d;return l(this,(function(l){switch(l.label){case 0:return r=this.getTagSource().from,a=u(e.split("."),2),i=a[0],o=a[1],s=(null==r?void 0:r.includes("."))?r.split(".")[0]+"."+i:i,c="select distinct "+o+" from "+s+" limit 1000",[4,this.runQuery({rawSql:c})];case 1:return p=l.sent(),0===(null===(t=p.fields)||void 0===t?void 0:t.length)?[2,[]]:(d=p.fields[0],[2,Object(n.vectorator)(d.values).filter((function(e){return null!==e})).map((function(e){return{text:String(e)}}))])}}))}))},t.prototype.fetchTagValuesFromQuery=function(e){return o(this,void 0,Promise,(function(){var t,r;return l(this,(function(a){switch(a.label){case 0:return[4,this.fetchTags()];case 1:return t=a.sent().frame,(r=t.fields.find((function(t){return t.name===e})))?[2,Object(n.vectorator)(r.values).filter((function(e){return null!==e})).map((function(e){return{text:String(e)}}))]:[2,[]]}}))}))},t.prototype.fetchTags=function(){return o(this,void 0,Promise,(function(){var e,t,r,n;return l(this,(function(a){switch(a.label){case 0:return e=this.getTagSource(),this.skipAdHocFilter=!0,void 0!==e.source?[3,2]:(this.adHocFilter.setTargetTable("default"),"SELECT name, type, table FROM system.columns",[4,this.runQuery({rawSql:"SELECT name, type, table FROM system.columns"})]);case 1:return t=a.sent(),[2,{type:x.schema,frame:t}];case 2:return e.type===x.query?this.adHocFilter.setTargetTableFromQuery(e.source):((null==(r=e.from)?void 0:r.includes("."))&&(r=r.split(".")[1]),this.adHocFilter.setTargetTable(r||"")),[4,this.runQuery({rawSql:e.source})];case 3:return n=a.sent(),[2,{type:e.type,frame:n}]}}))}))},t.prototype.getTagSource=function(){var e="$clickhouse_adhoc_query",t=this.getDefaultDatabase(),r=Object(g.getTemplateSrv)().replace(e);if(r===e&&Object(O.isEmpty)(t))return{type:x.schema,source:void 0};if((r=r===e?t:r).toLowerCase().startsWith("select"))return{type:x.query,source:r};if(!r.includes(".")){var n="SELECT name, type, table FROM system.columns WHERE database IN ('"+r+"')";return{type:x.schema,source:n,from:r}}var a=u(r.split("."),2),i="SELECT name, type, table FROM system.columns WHERE database IN ('"+a[0]+"') AND table = '"+a[1]+"'";return{type:x.schema,source:i,from:r}},t}(g.DataSourceWithBackend);!function(e){e[e.query=0]="query",e[e.schema=1]="schema"}(x||(x={}));var I,A=r(0),R=r.n(A),k=r(1),B=function(e){var t=e.hasCert,r=e.label,n=e.onChange,a=e.onClick,i=e.placeholder;return R.a.createElement("div",{className:"gf-form"},R.a.createElement(k.InlineFormLabel,{width:12},r),t?R.a.createElement(R.a.Fragment,null,R.a.createElement(k.Input,{css:{},type:"text",disabled:!0,value:"configured",width:24}),R.a.createElement(k.Button,{variant:"secondary",onClick:a,style:{marginLeft:4}},"Reset")):R.a.createElement(k.TextArea,{css:{},rows:7,onChange:n,placeholder:i,required:!0}))},F={ConfigEditor:{ServerAddress:{label:"Server address",placeholder:"Server TCP address",tooltip:"ClickHouse native TCP server address"},ServerPort:{label:"Server port",placeholder:function(e){return"Typically "+("true"===e?"9440":"9000")},tooltip:"ClickHouse native TCP port. Typically 9000 for unsecure, 9440 for secure"},Username:{label:"Username",placeholder:"Username",tooltip:"ClickHouse username"},Password:{label:"Password",placeholder:"Password",tooltip:"ClickHouse password"},TLSSkipVerify:{label:"Skip TLS Verify",tooltip:"Skip TLS Verify"},TLSClientAuth:{label:"TLS Client Auth",tooltip:"TLS Client Auth"},TLSAuthWithCACert:{label:"With CA Cert",tooltip:"Needed for verifying self-signed TLS Certs"},TLSCACert:{label:"CA Cert",placeholder:"CA Cert. Begins with -----BEGIN CERTIFICATE-----"},TLSClientCert:{label:"Client Cert",placeholder:"Client Cert. Begins with -----BEGIN CERTIFICATE-----"},TLSClientKey:{label:"Client Key",placeholder:"Client Key. Begins with -----BEGIN RSA PRIVATE KEY-----"},DefaultDatabase:{label:"Default database",placeholder:"Default database",tooltip:"Default database to be used. Can be empty."},Timeout:{label:"Timeout (seconds)",placeholder:"10",tooltip:"Timeout in seconds for connection and read queries"},Secure:{label:"Secure Connection",tooltip:"Toggle on if the connection is secure"},Validate:{label:"Validate SQL",tooltip:"Validate Sql in the editor."}},QueryEditor:{CodeEditor:{input:function(){return".monaco-editor textarea"},container:"data-testid-code-editor-container",Expand:"data-testid-code-editor-expand-button"},Types:{label:"Query Type",tooltip:"Query Type",options:{SQLEditor:"SQL Editor",QueryBuilder:"Query Builder"},switcher:{title:"Are you sure?",body:"Queries that are too complex for the Query Builder will be altered.",confirmText:"Continue",dismissText:"Cancel"}},QueryBuilder:{TYPES:{label:"Show as",tooltip:"Show as",options:{LIST:"Table",AGGREGATE:"Aggregate",TREND:"Time Series"}},DATABASE:{label:"Database",tooltip:"Clickhouse database to query from"},FROM:{label:"Table",tooltip:"Clickhouse table to query from"},SELECT:{label:"Fields",tooltipTable:"List of fields to show",tooltipAggregate:"List of metrics to show. Use any of the given aggregation along with the field",ALIAS:{label:"as",tooltip:"alias"},AddLabel:"Field",RemoveLabel:""},AGGREGATES:{label:"Aggregates",tooltipTable:"Aggregate functions to use",tooltipAggregate:"Aggregate functions to use",ALIAS:{label:"as",tooltip:"alias"},AddLabel:"Aggregate",RemoveLabel:""},WHERE:{label:"Filters",tooltip:"List of filters",AddLabel:"Filter",RemoveLabel:""},GROUP_BY:{label:"Group by",tooltip:"Group the results by specific field"},ORDER_BY:{label:"Order by",tooltip:"Order by field",AddLabel:"Order by",RemoveLabel:""},LIMIT:{label:"Limit",tooltip:"Number of records/results to show."},TIME_FIELD:{label:"Time field",tooltip:"Select the time field for trending over time"},PREVIEW:{label:"SQL Preview",tooltip:"SQL Preview. You can safely switch to SQL Editor to customize the generated query"}}}},j=F;!function(e){e[e.FIELD=3]="FIELD",e[e.DATABASE=8]="DATABASE",e[e.TABLE=5]="TABLE",e[e.VARIABLE=4]="VARIABLE"}(I||(I={}));var D,P,q,M,$,U,K,H,Q,G,W,V=r(4),z={Common:{check:Object(V.css)(D||(D=p(["\n      margin-top: 5px;\n    "],["\n      margin-top: 5px;\n    "]))),wrapper:Object(V.css)(P||(P=p(["\n      position: relative;\n      width: 100%;\n    "],["\n      position: relative;\n      width: 100%;\n    "]))),smallBtn:Object(V.css)(q||(q=p(["\n      margin-top: 5px;\n      margin-inline: 5px;\n    "],["\n      margin-top: 5px;\n      margin-inline: 5px;\n    "]))),selectWrapper:Object(V.css)(M||(M=p(["\n      width: 100%;\n    "],["\n      width: 100%;\n    "]))),inlineSelect:Object(V.css)($||($=p(["\n      margin-right: 5px;\n    "],["\n      margin-right: 5px;\n    "]))),firstLabel:Object(V.css)(U||(U=p(["\n      margin-right: 5px;\n    "],["\n      margin-right: 5px;\n    "]))),expand:Object(V.css)(K||(K=p(["\n      position: absolute;\n      top: 2px;\n      left: 6px;\n      z-index: 100;\n      color: gray;\n    "],["\n      position: absolute;\n      top: 2px;\n      left: 6px;\n      z-index: 100;\n      color: gray;\n    "])))},ConfigEditor:{container:Object(V.css)(H||(H=p(["\n      justify-content: space-between;\n      h5 {\n        line-height: 34px;\n        margin-bottom: 5px;\n      }\n      button {\n        margin-right: 5px;\n      }\n    "],["\n      justify-content: space-between;\n      h5 {\n        line-height: 34px;\n        margin-bottom: 5px;\n      }\n      button {\n        margin-right: 5px;\n      }\n    "]))),wide:Object(V.css)(Q||(Q=p(["\n      width: 75%;\n    "],["\n      width: 75%;\n    "]))),subHeader:Object(V.css)(G||(G=p(["\n      padding: 5px 0 5px 0;\n    "],["\n      padding: 5px 0 5px 0;\n    "])))},QueryEditor:{queryType:Object(V.css)(W||(W=p(["\n      justify-content: space-between;\n      span {\n        display: flex;\n      }\n    "],["\n      justify-content: space-between;\n      span {\n        display: flex;\n      }\n    "])))},VariablesEditor:{}};function Y(e,t,r){return o(this,void 0,Promise,(function(){var n,a,i,o,u,c,p,d,f,h,v,m,y,g,b,E;return l(this,(function(l){if(e.endsWith("$"))return[2,ee(r)];n=["select","from","where"],a=e.replace(/[\n\r]/g," ");try{for(i=s(n),o=i.next();!o.done;o=i.next())u=o.value,a=a.replace(u,u.toUpperCase())}catch(e){b={error:e}}finally{try{o&&!o.done&&(E=i.return)&&E.call(i)}finally{if(b)throw b.error}}return a.endsWith("SELECT ")||a.endsWith("FROM ")||a.endsWith(", ")?void 0!==t.defaultDatabase?[2,X(t,r)]:[2,J(t,r)]:a.endsWith("WHERE ")?(d=a.split("FROM "),c=d[d.length-1],h=c.split(" WHERE"),p=h[0],[2,p.split(",").map((function(e){return e.trim()})).map((function(e){return{label:e,kind:I.TABLE,documentation:"Table",insertText:e,range:r}}))]):e.endsWith(".")?(d=e.split(" "),f=d[d.length-1],h=f.split("."),void 0!==t.defaultDatabase?(v=h[0],[2,Z(t,r,"",v)]):2===h.length?(m=h[0],[2,X(t,r,m)]):(y=h[0],g=h[1],[2,Z(t,r,y,g)])):[2,[]]}))}))}function J(e,t){return o(this,void 0,void 0,(function(){return l(this,(function(r){switch(r.label){case 0:return[4,e.databases()];case 1:return[2,r.sent().map((function(e){return{label:e,kind:I.DATABASE,documentation:"Database",insertText:e,range:t}}))]}}))}))}function X(e,t,r){return o(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,e.tables(r)];case 1:return[2,n.sent().map((function(e){return{label:e,kind:I.TABLE,documentation:"Table",insertText:e,range:t}}))]}}))}))}function Z(e,t,r,n){return o(this,void 0,void 0,(function(){return l(this,(function(a){switch(a.label){case 0:return[4,e.fields(r,n)];case 1:return[2,a.sent().map((function(e){return{label:e,kind:I.FIELD,documentation:"Field",insertText:e,range:t}}))]}}))}))}function ee(e){var t=Object(g.getTemplateSrv)();return t?t.getVariables().map((function(r){var n="${"+r.name+"}",a=t.replace(n);return{label:n,detail:"(Template Variable) "+a,kind:I.VARIABLE,documentation:"(Template Variable) "+a,insertText:"{"+r.name+"}",range:e}})):[]}var te=function(e){var t=T(e).get("SELECT")||[];if(t.length>2&&Object(O.isString)(t[0])){var r=t[0].trim().toLowerCase();if(r.endsWith("as time"))return d.TIMESERIES;if(r.endsWith("as log_time"))return d.LOGS}return d.TABLE},re=r(39),ne=["INTERVAL"];var ae=function(e){var t=e.query,r=e.onRunQuery,n=e.onChange,a=e.datasource,s=u(Object(A.useState)(),2),c=s[0],p=s[1],d=u(Object(A.useState)({height:"150px",icon:"plus",on:t.expand||!1}),2),h=d[0],v=d[1],m={databases:function(){return a.fetchDatabases()},tables:function(e){return a.fetchTables(e)},fields:function(e,t){return a.fetchFields(e,t)},defaultDatabase:a.getDefaultDatabase()},y=function(e,t){return o(void 0,void 0,void 0,(function(){var r;return l(this,(function(n){switch(n.label){case 0:return[4,Y(e,m,t)];case 1:return r=n.sent(),[2,Promise.resolve({suggestions:r})]}}))}))},g=function(e,t,r){var n=function(e){try{return re.parse(e),{valid:!0}}catch(s){var t=s,r=t.message.split("\n"),n=t.hash.loc,a=e.split("\n"),i=a[n.first_line-1],o=i.substring(n.first_column,n.last_column);if(ne.includes(o.toUpperCase()))return{valid:!0};if(i.trim()===o){var l=a[n.first_line];if(null==l?void 0:l.trim().startsWith("$"))return{valid:!0}}return i.substring(n.last_column+1).trim().startsWith("$")?{valid:!0}:{valid:!1,error:{startLine:n.first_line,endLine:n.last_line,startCol:n.first_column+1,endCol:n.last_column+1,message:s.message,expected:r[3]}}}}(e);if(n.valid)r.setModelMarkers(t,"clickhouse",[]);else{var a=n.error;r.setModelMarkers(t,"clickhouse",[{startLineNumber:a.startLine,startColumn:a.startCol,endLineNumber:a.endLine,endColumn:a.endCol,message:a.expected,severity:8}])}},b=function(e){var r=function(e,t,r){var n=this;return t.updateOptions({fixedOverflowWidgets:!0,scrollBeyondLastLine:!1}),void 0!==monaco.languages.getLanguages().find((function(t){return t.id===e}))||(monaco.languages.register({id:e}),monaco.languages.registerCompletionItemProvider("sql",{triggerCharacters:[" ","$",".",","],provideCompletionItems:function(e,t){return o(n,void 0,void 0,(function(){var n,a,i;return l(this,(function(o){return n=e.getWordUntilPosition(t),a=e.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:t.lineNumber,endColumn:t.column}),i={startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:n.startColumn,endColumn:n.endColumn},[2,r(a,i)]}))}))}})),monaco.editor}("chSql",e,y);e.expanded=t.expand,e.onDidChangeModelDecorations((function(t){if(e.expanded){var r=ie(e);v({height:r+"px",on:!0,icon:"minus"})}})),e.onKeyUp((function(t){if(a.settings.jsonData.validate){var n=e.getValue();g(n,e.getModel(),r)}})),p(e)};return R.a.createElement("div",{className:z.Common.wrapper},R.a.createElement("a",{onClick:function(){return function(){var e=t,r=!h.on,a=r?"minus":"plus";if(n(i(i({},e),{expand:r})),c)if(r){c.expanded=!0;var o=ie(c);v({height:o+"px",on:r,icon:a})}else c.expanded=!1,v({height:"150px",icon:a,on:r})}()},className:z.Common.expand,"data-testid":j.QueryEditor.CodeEditor.Expand},R.a.createElement("i",{className:"fa fa-"+h.icon})),R.a.createElement(k.CodeEditor,{"aria-label":"SQL",height:h.height,language:"sql",value:t.rawSql||"",onSave:function(e){var a=te(e);n(i(i({},t),{rawSql:e,format:a,queryType:f.SQL})),r()},showMiniMap:!1,showLineNumbers:!0,onBlur:function(e){return n(i(i({},t),{rawSql:e}))},onEditorDidMount:function(e){return b(e)}}))},ie=function(e){var t;if(e.getDomNode()){var r=e.getOption(b.lineHeight),n=(null===(t=e.getModel())||void 0===t?void 0:t.getLineCount())||1;return e.getTopForLineNumber(n+1)+r+40}},oe=function(e){return["boolean"].includes(e.toLowerCase())},le=function(e){return void 0!==["int","float","decimal"].find((function(t){return e.toLowerCase().includes(t)}))},se=function(e){return["date","datetime"].includes(e.toLowerCase())},ue=function(e){return!(oe(e)||le(e)||se(e))},ce=function(e){return[y.IsNull,y.IsNotNull].includes(e.operator)},pe=function(e){return oe(e.type)},de=function(e){return le(e.type)},fe=function(e){return se(e.type)&&[y.WithInGrafanaTimeRange,y.OutsideGrafanaTimeRange].includes(e.operator)},he=function(e){return se(e.type)},ve=function(e){return ue(e.type)&&![y.In,y.NotIn].includes(e.operator)},me=function(e){return ue(e.type)&&[y.In,y.NotIn].includes(e.operator)},ye=function(e){return e.reduce((function(e,t,r){var n=0===r?"":t.condition,a="",i=t.key,o="",l=!1;if(t.operator===y.NotLike?(o="LIKE",l=!0):t.operator===y.OutsideGrafanaTimeRange?(o="",l=!0):o=[y.WithInGrafanaTimeRange].includes(t.operator)?"":t.operator,a=i+" "+o,ce(t));else if(pe(t))a+=" "+t.value;else if(de(t))a+=" "+(t.value||"0");else if(he(t))if(fe(t))se(t.type)&&(a+=" >= $__fromTime AND "+t.key+" <= $__toTime");else switch(t.value){case"GRAFANA_START_TIME":se(t.type)&&(a+=" $__fromTime");break;case"GRAFANA_END_TIME":se(t.type)&&(a+=" $__toTime");break;default:a+=" "+(t.value||"TODAY")}else if(ve(t))t.operator===y.Like||t.operator===y.NotLike?a+=" '%"+(t.value||"")+"%'":a+=" '"+(t.value||"")+"'";else if(me(t)){a+=" ("+t.value.map((function(e){return"'"+e.trim()+"'"})).join(", ")+" )"}return l&&(a=" NOT ( "+a+" )"),a?e+" "+n+" ( "+a+" )":e}),"")},ge=function(e,t){void 0===e&&(e=[]);var r=e.length>0?" GROUP BY "+e.join(", "):"";return void 0===t?r:0===e.length?" GROUP BY time":r+", time"},be=function(e,t){void 0===t&&(t=!0);var r=t?" ORDER BY ":"";return e&&e.filter((function(e){return e.name})).length>0?r+e.filter((function(e){return e.name})).map((function(e){return e.name+" "+e.dir})).join(", "):""},Ee=function(e){var t=e.limit?function(e){return" LIMIT "+(e||100)}(e.limit):"",r="";switch(e.mode){case h.Aggregate:r+=function(e,t,r,n,a){void 0===e&&(e=""),void 0===t&&(t=""),void 0===r&&(r=[]),void 0===n&&(n=[]),void 0===a&&(a=[]);var i=r.length>0?r.join(", "):"",o=n.map((function(e){var t=e.alias?" "+e.alias.replace(/ /g,"_"):"";return e.aggregation+"("+e.field+")"+t})).join(", "),l=a.filter((function(e){return!r.some((function(t){return t===e}))})).join(", ");return"SELECT "+i+(i&&(l||o)?", ":"")+l+(o&&l?", ":"")+o+" FROM "+e+(""===e||""===t?"":".")+t}(e.database,e.table,e.fields,e.metrics,e.groupBy);var n=ye(e.filters||[]);n&&(r+=" WHERE "+n),r+=ge(e.groupBy);break;case h.Trend:r+=function(e,t,r,n,a,i){void 0===e&&(e=""),void 0===t&&(t=""),void 0===r&&(r=[]),void 0===n&&(n=[]),void 0===a&&(a=""),void 0===i&&(i="");var o=(r=r&&r.length>0?r:[]).map((function(e){var t=e.alias?" "+e.alias.replace(/ /g,"_"):"";return e.aggregation+"("+e.field+")"+t})).join(", "),l="$__timeInterval("+a+") as time";""!==o?o=l+", "+(n.length>0?n.join(", ")+",":"")+" "+o:o=n.length>0?l+", "+n.join(", "):""+l;return"SELECT "+o+" FROM "+e+(""===e||""===t?"":".")+t}(e.database,e.table,e.metrics,e.groupBy,e.timeField,e.timeFieldType),se(e.timeFieldType)&&(r+=" WHERE $__timeFilter("+e.timeField+")");var a=ye(e.filters||[]);r+=a?" AND "+a:"",r+=ge(e.groupBy,e.timeField);break;case h.List:default:r+=function(e,t,r){void 0===e&&(e=""),void 0===t&&(t=""),void 0===r&&(r=[]);var n=""===e||""===t?"":".";return"SELECT "+(r=r&&r.length>0?r:[""]).join(", ")+" FROM "+e+n+t}(e.database,e.table,e.fields);var i=ye(e.filters||[]);i&&(r+=" WHERE "+i)}if(e.mode===h.Trend){r+=" ORDER BY time ASC";var o=be(e.orderBy,!1);""!==o.trim()&&(r+=", "+o),r+=t}else r+=be(e.orderBy),r+=t;return r};function Oe(e){var t,r,n=T(e),a=n.get("FROM");if(!a||a.length>1||!Object(O.isString)(a[0]))return{};var o=a[0].trim().split("."),l=n.get("WHERE"),u=n.get("LIMIT"),c=function(e){var t,r,n=[],a=[],i=function(e){if(!Object(O.isString)(e)||!e.trim()||","===e.trim())return"continue";var t=!1;n=n.concat(Object.values(v).filter((function(t){return e.trim().toLowerCase().startsWith(""+t)})).map((function(r){var n=e.match(/\w+|\$(\w+)/g);if(!n)return null;var a={field:n[1]?n[1]:"",aggregation:r};return n[2]&&(a.alias=n[2]),n[3]&&(a.alias=n[3]),t=!0,a})).filter((function(e){return e}))),t||a.push(e.trim())};try{for(var o=s(e),l=o.next();!l.done;l=o.next()){var u=l.value;i(u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return{metrics:n,fields:a}}(n.get("SELECT")),p={mode:c.metrics.length>0?h.Aggregate:h.List,database:o[1]?o[0].trim():"",table:o[1]?o[1].trim():o[0].trim()};c.fields&&(p.fields=c.fields),l&&l.length>0&&(p.filters=function(e){var t,r,n,a=[{condition:"AND"}];try{for(var o=s(e),l=o.next();!l.done;l=o.next()){var u=l.value;if(Object(O.isString)(u))if("AND"!==u.trim().toUpperCase())if("OR"!==u.trim().toUpperCase()){var c=null===(n=u.match(/([''])(?:(?=(\\?))\2.)*?\1/g))||void 0===n?void 0:n.map((function(e){return e.substring(1,e.length-1)})),p=u.match(/(\w+|\$(\w+)|!=|<=|>=|=)/g);if(p){var d="NOT"===p[0],f=Te(p,c||[]);a[a.length-1]=i(i({},a[a.length-1]),{filterType:"custom",key:d?p[1]:p[0],operator:f.f?f.f:"",value:f.v?f.v:"",type:Se(u,c)})}}else a.push({condition:"OR"});else a.push({condition:"AND"})}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return a}(l));var d=null===(t=n.get("ORDER BY"))||void 0===t?void 0:t.map((function(e){var t;if(!Object(O.isString)(e)||","===e.trim())return{};var r=e.trim().split(" ");return{name:r[0],dir:null===(t=r[1])||void 0===t?void 0:t.toUpperCase()}})).filter((function(e){return e}));d&&d.length>0&&(p.orderBy=d),u&&u.length>0&&(p.limit=Number.parseInt(u[0].toString(),10)),c.metrics.length>0&&(p.metrics=c.metrics);var f=null===(r=n.get("GROUP BY"))||void 0===r?void 0:r.map((function(e){return Object(O.isString)(e)&&","!==e.trim()?e.trim():""})).filter((function(e){return""!==e}));return f&&f.length>0&&(p.groupBy=f),p}function Te(e,t){if(function(e){var t,r;if(!e||0===e.length)return!1;var n={from:!1,to:!1};try{for(var a=s(e),i=a.next();!i.done;i=a.next()){var o=i.value;o.includes("__from")?n.from=!0:o.includes("__to")&&(n.to=!0)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n.from&&n.to}(e))return{f:"NOT"===e[0]?y.OutsideGrafanaTimeRange:y.WithInGrafanaTimeRange,v:""};var r=e[1];if(Object.values(y).includes(r.toUpperCase()))return{f:r.toUpperCase(),v:t.length>0?t:e.slice(2,e.length)};for(var n=2;n<e.length;n++)if(r+=" "+e[n],Object.values(y).includes(r.toUpperCase()))return{f:r.toUpperCase(),v:t.length>0?t:e.slice(n+1,e.length)};return{f:"",v:null}}function Se(e,t){return t&&t.length>0?"string":e.includes("__time")||e.includes("__from")||e.includes("__to")?"datetime":""}new Map([["equals",y.Equals],["contains",y.Like]]);var Ce=r(40),_e=r.n(Ce),we=function(e){var t=e.datasource,r=e.onTableChange,n=e.database,a=e.table,i=u(Object(A.useState)([]),2),s=i[0],c=i[1],p=j.QueryEditor.QueryBuilder.FROM,d=p.label,f=p.tooltip;Object(A.useEffect)((function(){!function(){o(this,void 0,void 0,(function(){var e,r;return l(this,(function(i){switch(i.label){case 0:return[4,t.fetchTables(n)];case 1:return e=i.sent(),r=e.map((function(e){return{label:e,value:e}})),a&&!e.find((function(e){return e===a}))&&r.push({label:a,value:a}),r.push({label:"-- Choose --",value:""}),c(r),[2]}}))}))}()}),[t,n,a]);return R.a.createElement(R.a.Fragment,null,R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword",tooltip:f},d),R.a.createElement(k.Select,{className:"width-15 "+z.Common.inlineSelect,onChange:function(e){return t=e.value?e.value:"",void r(t);var t},options:s,value:a,menuPlacement:"bottom",allowCustomValue:!0}))},Le=function(e){var t=j.QueryEditor.QueryBuilder.TYPES,r=t.options,n=t.label,a=t.tooltip,i=[{value:h.List,label:r.LIST},{value:h.Aggregate,label:r.AGGREGATE},{value:h.Trend,label:r.TREND}];return R.a.createElement(R.a.Fragment,null,R.a.createElement(k.InlineFormLabel,{width:6,className:"query-keyword",tooltip:a},n),R.a.createElement(k.RadioButtonGroup,{options:i,value:e.mode,onChange:function(t){return e.onModeChange(t)}}))},xe=function(e){var t=(e.fieldsList||[]).map((function(e){return{label:e.label,value:e.name}})),r=u(Object(A.useState)([]),2),n=r[0],a=r[1],i=u(Object(A.useState)(!1),2),o=i[0],l=i[1],s=[],p=u(Object(A.useState)(e.fields||[]),2),d=p[0],f=p[1],h=j.QueryEditor.QueryBuilder.SELECT,v=h.label,m=h.tooltipTable;Object(A.useEffect)((function(){if(0!==e.fieldsList.length){f(e.fields);var t=Ne(e.fields,e.fieldsList);a(t)}}),[e.fieldsList,e.fields]);var y=function(e){return s.map((function(e){return e.value})).includes(e[0])||s.map((function(e){return e.value})).includes(e[e.length-1])?[e[e.length-1]]:e};return R.a.createElement("div",{className:"gf-form"},R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword",tooltip:m},v),R.a.createElement("div",{"data-testid":"query-builder-fields-multi-select-container",className:z.Common.selectWrapper},R.a.createElement(k.MultiSelect,{options:c(t,s,n),value:d&&d.length>0?d:[],isOpen:o,onOpenMenu:function(){return l(!0)},onCloseMenu:function(){return l(!1)},onChange:function(t){l(!1),function(t){var r=y(t);f(r);var n=Ne(t,e.fieldsList);a(n)}(t.map((function(e){return e.value})))},onBlur:function(){e.onFieldsChange(d)},allowCustomValue:!0,menuPlacement:"bottom"})))};function Ne(e,t){return e.filter((function(e){return-1===t.findIndex((function(t){return t.name===e}))})).map((function(e){return{label:e,value:e}}))}var Ie=function(e){var t=(e.fieldsList||[]).map((function(e){return{label:e.label,value:e.name}})),r=u(Object(A.useState)(!1),2),n=r[0],a=r[1],o=e.metric,l=e.index,s=e.metrics,p=e.onMetricsChange,d=u(Object(A.useState)(o.alias||""),2),f=d[0],h=d[1],m=j.QueryEditor.QueryBuilder.AGGREGATES.ALIAS,y=[{value:v.Count,label:"Count"},{value:v.Sum,label:"Sum"},{value:v.Min,label:"Min"},{value:v.Max,label:"Max"},{value:v.Average,label:"Average"}];return R.a.createElement(R.a.Fragment,null,R.a.createElement(k.Select,{width:20,className:z.Common.inlineSelect,options:y,onChange:function(e){return t=e.value,r=c(s).map((function(e,r){return i(i({},e),{aggregation:r===l?t:e.aggregation})})),void p(r);var t,r},value:o.aggregation,menuPlacement:"bottom"}),R.a.createElement(k.Select,{width:28,className:z.Common.inlineSelect,options:t,isOpen:n,onOpenMenu:function(){return a(!0)},onCloseMenu:function(){return a(!1)},onChange:function(e){a(!1);var t=c(s).map((function(t,r){return i(i({},t),{field:r===l?e.value:t.field})}));p(t)},value:o.field,menuPlacement:"bottom"}),R.a.createElement(k.InlineFormLabel,{width:2,className:"query-keyword"},m.label),R.a.createElement(k.Input,{css:null,width:20,value:f,onChange:function(e){return h(e.currentTarget.value)},onBlur:function(){var e=c(s).map((function(e,t){return i(i({},e),{alias:t===l?f:e.alias})}));p(e)},placeholder:"alias"}))},Ae=function(e){var t=e.metrics,r=e.onMetricsChange,n=e.fieldsList,a=void 0===n?[]:n,i=j.QueryEditor.QueryBuilder.AGGREGATES,o=i.label,l=i.tooltipAggregate,s=i.AddLabel,u=i.RemoveLabel;return R.a.createElement(R.a.Fragment,null,t.map((function(e,n){return R.a.createElement("div",{className:"gf-form",key:n},0===n?R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword",tooltip:l},o):R.a.createElement("div",{className:"width-8 "+z.Common.firstLabel}),R.a.createElement(Ie,{fieldsList:a,index:n,metric:e,metrics:t,onMetricsChange:r}),t.length>1&&R.a.createElement(k.Button,{icon:"trash-alt",size:"sm",variant:"destructive",className:z.Common.smallBtn,onClick:function(){return function(e){var n=c(t);n.splice(e,1),r(n)}(n)}},u))})),R.a.createElement("div",{className:"gf-form"},R.a.createElement("div",{className:"width-8 "+z.Common.firstLabel}),R.a.createElement(k.Button,{icon:"plus-circle",size:"sm",variant:"secondary",className:z.Common.smallBtn,onClick:function(){var e={field:"",aggregation:v.Count};r(c(t,[e]))}},s)))},Re=function(e){var t=j.QueryEditor.QueryBuilder.TIME_FIELD,r=t.label,n=t.tooltip,a=(e.fieldsList||[]).filter((function(e){return"datetime"===e.type.toLowerCase()||"date"===e.type.toLowerCase()})).map((function(e){return{label:e.label,value:e.name}}));return R.a.createElement("div",{className:"gf-form"},R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword",tooltip:n},r),R.a.createElement(k.Select,{options:a,width:20,onChange:function(t){return e.onTimeFieldChange(t.value,(r=t.value,(n=e.fieldsList.find((function(e){return e.name===r})))?n.type:""));var r,n},value:e.timeField,menuPlacement:"bottom"}))},ke=[{value:!0,label:"True"},{value:!1,label:"False"}],Be=[{value:"AND",label:"AND"},{value:"OR",label:"OR"}],Fe=[{value:y.Equals,label:"="},{value:y.NotEquals,label:"!="},{value:y.LessThan,label:"<"},{value:y.LessThanOrEqual,label:"<="},{value:y.GreaterThan,label:">"},{value:y.GreaterThanOrEqual,label:">="},{value:y.Like,label:"LIKE"},{value:y.NotLike,label:"NOT LIKE"},{value:y.In,label:"IN"},{value:y.NotIn,label:"NOT IN"},{value:y.IsNull,label:"IS NULL"},{value:y.IsNotNull,label:"IS NOT NULL"},{value:y.WithInGrafanaTimeRange,label:"WITHIN DASHBOARD TIME RANGE"},{value:y.OutsideGrafanaTimeRange,label:"OUTSIDE DASHBOARD TIME RANGE"}],je=[{value:"today()",label:"TODAY"},{value:"yesterday()",label:"YESTERDAY"},{value:"now()",label:"NOW"},{value:"GRAFANA_START_TIME",label:"DASHBOARD START TIME"},{value:"GRAFANA_END_TIME",label:"DASHBOARD END TIME"}],De={filterType:"custom",condition:"AND",key:"Id",type:"id",operator:y.IsNotNull},Pe=function(e){var t=u(Object(A.useState)(e.value||0),2),r=t[0],n=t[1];return R.a.createElement("div",{"data-testid":"query-builder-filters-number-value-container"},R.a.createElement(k.Input,{css:null,"data-testid":"query-builder-filters-number-value-input",type:"number",value:r,onChange:function(e){return n(e.currentTarget.valueAsNumber||0)},onBlur:function(){return e.onChange(r)}}))},qe=function(e){var t=u(Object(A.useState)(e.value||""),2),r=t[0],n=t[1];return R.a.createElement("div",{"data-testid":"query-builder-filters-single-string-value-container"},R.a.createElement(k.Input,{css:null,type:"text",value:r,onChange:function(e){return n(e.currentTarget.value)},onBlur:function(){return e.onChange(r)}}))},Me=function(e){var t=u(Object(A.useState)(e.value||[]),2),r=t[0],n=t[1];return R.a.createElement("div",{"data-testid":"query-builder-filters-multi-string-value-container"},R.a.createElement(k.Input,{css:null,type:"text",value:r.join(","),placeholder:"comma separated values",onChange:function(e){return n((e.currentTarget.value||"").split(","))},onBlur:function(){return e.onChange(r)}}))},$e=function(e){var t=e.filter,r=e.onFilterChange,n=e.fieldsList,a=function(){var e=n.find((function(e){return e.name===t.key}));return(null==e?void 0:e.picklistValues)||[]};if(ce(t))return R.a.createElement(R.a.Fragment,null);if(pe(t)){return R.a.createElement("div",{"data-testid":"query-builder-filters-boolean-value-container"},R.a.createElement(k.RadioButtonGroup,{options:ke,value:t.value,onChange:function(e){return n=e,void r(i(i({},t),{value:n}));var n}}))}if(de(t))return R.a.createElement(Pe,{value:t.value,onChange:function(e){return r(i(i({},t),{value:e}))}});if(he(t)){return fe(t)?null:R.a.createElement("div",{"data-testid":"query-builder-filters-date-value-container"},R.a.createElement(k.Select,{value:t.value||"TODAY",onChange:function(e){return n=e.value,void r(i(i({},t),{value:n}));var n},options:c(je)}))}if(ve(t)){var o=function(e){r(i(i({},t),{value:e}))};return"picklist"!==t.type||t.operator!==y.Equals&&t.operator!==y.NotEquals?R.a.createElement(qe,{value:t.value,onChange:o}):R.a.createElement("div",{"data-testid":"query-builder-filters-single-picklist-value-container"},R.a.createElement(k.Select,{value:t.value,onChange:function(e){return o(e.value)},options:a()}))}if(me(t)){var l=function(e){r(i(i({},t),{value:e}))};return"picklist"===t.type?R.a.createElement("div",{"data-testid":"query-builder-filters-multi-picklist-value-container"},R.a.createElement(k.MultiSelect,{value:t.value,options:a(),onChange:function(e){return l(e.map((function(e){return e.value})))}})):R.a.createElement(Me,{value:t.value,onChange:l})}return R.a.createElement(R.a.Fragment,null)},Ue=function(e){var t,r,n=e.index,a=e.filter,i=e.fieldsList,o=e.onFilterChange,l=u(Object(A.useState)(!1),2),s=l[0],c=l[1];return R.a.createElement(R.a.Fragment,null,0!==n&&R.a.createElement(k.RadioButtonGroup,{options:Be,value:a.condition,onChange:function(e){return t=e,(r=a).condition=t,void o(n,r);var t,r}}),R.a.createElement(k.Select,{value:a.key,width:40,className:z.Common.inlineSelect,options:(r=i.map((function(e){return{label:e.label,value:e.name}})),(null==a?void 0:a.key)&&!r.find((function(e){return e.value===a.key}))&&r.push({label:a.key,value:a.key}),r),isOpen:s,onOpenMenu:function(){return c(!0)},onCloseMenu:function(){return c(!1)},onChange:function(e){return function(e){c(!1);var t=i.find((function(t){return t.name===e}));if(t){var r;if(oe(t.type))r={filterType:"custom",key:t.name,type:"boolean",condition:a.condition||"AND",operator:y.Equals,value:!1};else if(se(t.type)){r={filterType:"custom",key:t.name,type:t.type,condition:a.condition||"AND",operator:y.Equals,value:"TODAY"}}else{r={filterType:"custom",key:t.name,type:t.type,condition:a.condition||"AND",operator:y.IsNotNull}}o(n,r)}}(e.value)},allowCustomValue:!0,menuPlacement:"bottom"}),R.a.createElement(k.Select,{value:a.operator,width:34,className:z.Common.inlineSelect,options:(t=a.type,void 0===t&&(t="string"),oe(t)?Fe.filter((function(e){return[y.Equals,y.NotEquals].includes(e.value)})):le(t)?Fe.filter((function(e){return[y.IsNull,y.IsNotNull,y.Equals,y.NotEquals,y.LessThan,y.LessThanOrEqual,y.GreaterThan,y.GreaterThanOrEqual].includes(e.value)})):se(t)?Fe.filter((function(e){return[y.IsNull,y.IsNotNull,y.Equals,y.NotEquals,y.LessThan,y.LessThanOrEqual,y.GreaterThan,y.GreaterThanOrEqual,y.WithInGrafanaTimeRange,y.OutsideGrafanaTimeRange].includes(e.value)})):Fe.filter((function(e){return[y.IsNull,y.IsNotNull,y.Equals,y.NotEquals,y.Like,y.NotLike,y.In,y.NotIn].includes(e.value)}))),onChange:function(e){return t=e.value,(r=a).operator=t,me(r)&&(Array.isArray(r.value)||(r.value=[r.value||""])),void o(n,r);var t,r},menuPlacement:"bottom"}),R.a.createElement($e,{filter:a,onFilterChange:function(e){o(n,e)},fieldsList:i}))},Ke=function(e){var t=e.filters,r=void 0===t?[]:t,n=e.onFiltersChange,a=e.fieldsList,o=void 0===a?[]:a,l=j.QueryEditor.QueryBuilder.WHERE,s=l.label,u=l.tooltip,p=l.AddLabel,d=l.RemoveLabel,f=function(){n(c(r,[i({},De)]))},h=function(e,t){var a=c(r);a[e]=t,n(a)};return R.a.createElement(R.a.Fragment,null,0===r.length&&R.a.createElement("div",{className:"gf-form"},R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword",tooltip:u},s),R.a.createElement(k.Button,{"data-testid":"query-builder-filters-add-button",icon:"plus-circle",variant:"secondary",size:"sm",className:z.Common.smallBtn,onClick:f},p)),r.map((function(e,t){return R.a.createElement("div",{className:"gf-form",key:t},0===t?R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword",tooltip:u},s):R.a.createElement("div",{className:"width-8 "+z.Common.firstLabel}),R.a.createElement(Ue,{fieldsList:o,filter:e,onFilterChange:h,index:t}),R.a.createElement(k.Button,{"data-testid":"query-builder-filters-remove-button",icon:"trash-alt",variant:"destructive",size:"sm",className:z.Common.smallBtn,onClick:function(){return function(e){var t=c(r);t.splice(e,1),n(t)}(t)}},d))})),0!==r.length&&R.a.createElement("div",{className:"gf-form"},R.a.createElement("div",{className:"width-8 "+z.Common.firstLabel}),R.a.createElement(k.Button,{"data-testid":"query-builder-filters-inline-add-button",icon:"plus-circle",variant:"secondary",size:"sm",className:z.Common.smallBtn,onClick:f},p)))},He=function(e){var t=(e.fieldsList||[]).map((function(e){return{label:e.label,value:e.name}})),r=u(Object(A.useState)(!1),2),n=r[0],a=r[1],i=u(Object(A.useState)(e.groupBy||[]),2),o=i[0],l=i[1],s=j.QueryEditor.QueryBuilder.GROUP_BY,c=s.label,p=s.tooltip;return o.filter((function(e){return!t.some((function(t){return t.value===e}))})).forEach((function(e){return t.push({value:e,label:e})})),R.a.createElement("div",{className:"gf-form"},R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword",tooltip:p},c),R.a.createElement("div",{"data-testid":"query-builder-group-by-multi-select-container",className:z.Common.selectWrapper},R.a.createElement(k.MultiSelect,{options:t,placeholder:"(Optional) Click here to choose",isOpen:n,onOpenMenu:function(){return a(!0)},onCloseMenu:function(){return a(!1)},onChange:function(e){a(!1),l(e.map((function(e){return e.value})))},onBlur:function(){return e.onGroupByChange(o)},value:o,allowCustomValue:!0,menuPlacement:"bottom"})))},Qe=function(e){var t=e.fieldsList||[],r=e.index,n=e.orderByItem,a=[{value:m.ASC,label:"ASC"},{value:m.DESC,label:"DESC"}];return R.a.createElement(R.a.Fragment,null,R.a.createElement(k.Select,{value:n.name,className:z.Common.inlineSelect,width:20,options:t,onChange:function(t){return n=t.value,a=c(e.orderBy).map((function(e,t){return i(i({},e),{name:t===r?n:e.name})})),void e.onOrderByItemsChange(a);var n,a},allowCustomValue:!0,menuPlacement:"bottom"}),R.a.createElement(k.Select,{value:n.dir,className:z.Common.inlineSelect,width:12,options:a,onChange:function(t){return n=t.value,a=c(e.orderBy).map((function(e,t){return i(i({},e),{dir:t===r?n:e.dir})})),void e.onOrderByItemsChange(a);var n,a},menuPlacement:"bottom"}))},Ge=function(e){var t=e.fieldsList||[],r=j.QueryEditor.QueryBuilder.ORDER_BY,n=r.label,a=r.tooltip,i=r.AddLabel,o=r.RemoveLabel,l=function(){var r,n=c(e.orderBy);n.push({name:(null===(r=t[0])||void 0===r?void 0:r.value)||"Name",dir:m.ASC}),e.onOrderByItemsChange(n)};return 0===t.length?null:R.a.createElement(R.a.Fragment,null,0===e.orderBy.length?R.a.createElement("div",{className:"gf-form"},R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword",tooltip:a},n),R.a.createElement(k.Button,{"data-testid":"query-builder-orderby-add-button",icon:"plus-circle",variant:"secondary",size:"sm",onClick:l,className:z.Common.smallBtn},i)):R.a.createElement(R.a.Fragment,null,e.orderBy.map((function(t,r){return R.a.createElement("div",{className:"gf-form",key:r,"data-testid":"query-builder-orderby-item-wrapper"},0===r?R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword","data-testid":"query-builder-orderby-item-label",tooltip:a},n):R.a.createElement("div",{className:"width-8 "+z.Common.firstLabel}),R.a.createElement(Qe,{index:r,orderBy:e.orderBy,orderByItem:t,onOrderByItemsChange:e.onOrderByItemsChange,fieldsList:e.fieldsList}),R.a.createElement(k.Button,{"data-testid":"query-builder-orderby-remove-button",className:z.Common.smallBtn,variant:"destructive",size:"sm",icon:"trash-alt",onClick:function(){return function(t){var r=c(e.orderBy);r.splice(t,1),e.onOrderByItemsChange(r)}(r)}},o))})),R.a.createElement("div",{className:"gf-form"},R.a.createElement("div",{className:"width-8 "+z.Common.firstLabel}),R.a.createElement(k.Button,{"data-testid":"query-builder-orderby-inline-add-button",icon:"plus-circle",variant:"secondary",size:"sm",onClick:l,className:z.Common.smallBtn},i))))},We=function(e,t){var r,n=[];switch(e.mode){case h.Aggregate:n=c((e.fields||[]).map((function(e){return{value:e,label:e}})),(e.metrics||[]).map((function(e){return{value:e.aggregation+"("+e.field+")",label:e.aggregation+"("+e.field+")"}})),(e.groupBy||[]).map((function(e){return{value:e,label:e}})));break;case h.List:default:n=t.map((function(e){return{value:e.name,label:e.label}}))}return null===(r=e.orderBy)||void 0===r||r.filter((function(e){return!n.some((function(t){return t.value===e.name}))})).forEach((function(e){return n.push({value:e.name,label:e.name})})),n},Ve=function(e){var t=u(Object(A.useState)(e.limit||10),2),r=t[0],n=t[1],a=j.QueryEditor.QueryBuilder.LIMIT,i=a.label,o=a.tooltip;return R.a.createElement("div",{className:"gf-form"},R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword",tooltip:o},i),R.a.createElement(k.Input,{css:null,width:10,value:r,type:"number",min:1,onChange:function(e){return n(e.currentTarget.valueAsNumber)},onBlur:function(){return e.onLimitChange(r)}}))},ze=function(e){var t=e.datasource,r=e.onChange,n=e.value,a=u(Object(A.useState)([]),2),i=a[0],s=a[1],c=j.QueryEditor.QueryBuilder.DATABASE,p=c.label,d=c.tooltip;Object(A.useEffect)((function(){!function(){o(this,void 0,void 0,(function(){var e,r;return l(this,(function(a){switch(a.label){case 0:return[4,t.fetchDatabases()];case 1:return e=a.sent(),r=e.map((function(e){return{label:e,value:e}})),n&&!e.find((function(e){return e===n}))&&r.push({label:n,value:n}),s(r),[2]}}))}))}()}),[t,n]);var f=t.settings.jsonData.defaultDatabase,h=null!=n?n:f;return R.a.createElement(R.a.Fragment,null,R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword",tooltip:d},p),R.a.createElement(k.Select,{className:"width-15 "+z.Common.inlineSelect,onChange:function(e){return r(e.value)},options:i,value:h,menuPlacement:"bottom",allowCustomValue:!0}))},Ye=function(e){var t=u(Object(A.useState)([]),2),r=t[0],n=t[1],a=_e()(e.builderOptions,E.builderOptions);Object(A.useEffect)((function(){var t,r;a.table&&(t=a.database,r=a.table,o(void 0,void 0,void 0,(function(){return l(this,(function(s){return e.datasource.fetchFieldsFull(t,r).then((function(t){return o(void 0,void 0,void 0,(function(){var r,o,s,u,c;return l(this,(function(l){return t.push({name:"*",label:"ALL",type:"string",picklistValues:[]}),n(t),(null===(c=a.fields)||void 0===c?void 0:c.length)>0&&(r=a.fields[0],o=t.filter((function(e){return"datetime"===e.type.toLowerCase()||"date"===e.type.toLowerCase()})),(s=o.find((function(e){return e.name===r})))&&(u=i(i({},a),{timeField:s.name,timeFieldType:s.type,mode:h.Trend,fields:a.fields.slice(1,a.fields.length)}),e.onBuilderOptionsChange(u))),[2]}))}))})).catch((function(e){throw e})),[2]}))})))}),[e.datasource,a.table]);var s,c=(s=[],r.forEach((function(e){s.push(e)})),s);return a?R.a.createElement(R.a.Fragment,null,R.a.createElement("div",{className:"gf-form"},R.a.createElement(ze,{datasource:e.datasource,value:a.database,onChange:function(t){void 0===t&&(t=""),n([]);var r=i(i({},a),{database:t,table:"",fields:[],filters:[],orderBy:[]});e.onBuilderOptionsChange(r)}}),R.a.createElement(Le,{mode:a.mode,onModeChange:function(t){if(t===h.List){var r=i(i({},a),{mode:t,fields:a.fields||[],orderBy:[]});e.onBuilderOptionsChange(r)}else if(t===h.Aggregate){r=i(i({},a),{mode:t,orderBy:[],metrics:a.metrics||[]});e.onBuilderOptionsChange(r)}else if(t===h.Trend){r=i(i({},a),{mode:h.Trend,timeField:a.timeField||"",timeFieldType:a.timeFieldType||"datetime",metrics:a.metrics||[]});e.onBuilderOptionsChange(r)}}})),R.a.createElement("div",{className:"gf-form"},R.a.createElement(we,{datasource:e.datasource,database:a.database,table:a.table,onTableChange:function(t){void 0===t&&(t="");var r=i(i({},a),{table:t,fields:[],filters:[],orderBy:[]});e.onBuilderOptionsChange(r)}})),a.mode===h.Trend&&R.a.createElement(Re,{timeField:a.timeField,timeFieldType:a.timeFieldType,onTimeFieldChange:function(t,r){void 0===t&&(t=""),void 0===r&&(r="");var n=i(i({},a),{timeField:t,timeFieldType:r});e.onBuilderOptionsChange(n)},fieldsList:c}),a.mode!==h.Trend&&R.a.createElement(xe,{fields:a.fields||[],onFieldsChange:function(t){void 0===t&&(t=[]);var r=i(i({},a),{fields:t});e.onBuilderOptionsChange(r)},fieldsList:c}),(a.mode===h.Aggregate||a.mode===h.Trend)&&R.a.createElement(Ae,{metrics:a.metrics||[],onMetricsChange:function(t){void 0===t&&(t=[]);var r=i(i({},a),{metrics:t});e.onBuilderOptionsChange(r)},fieldsList:c}),R.a.createElement(Ke,{filters:a.filters||[],onFiltersChange:function(t){void 0===t&&(t=[]);var r=i(i({},a),{filters:t});e.onBuilderOptionsChange(r)},fieldsList:c}),(a.mode===h.Aggregate||a.mode===h.Trend)&&R.a.createElement(He,{groupBy:a.groupBy||[],onGroupByChange:function(t){void 0===t&&(t=[]);var r=i(i({},a),{groupBy:t});e.onBuilderOptionsChange(r)},fieldsList:c}),R.a.createElement(R.a.Fragment,null,R.a.createElement(Ge,{orderBy:a.orderBy||[],onOrderByItemsChange:function(t){void 0===t&&(t=[]);var r=i(i({},a),{orderBy:t});e.onBuilderOptionsChange(r)},fieldsList:We(a,c)}),R.a.createElement(Ve,{limit:a.limit||20,onLimitChange:function(t){void 0===t&&(t=20);var r=i(i({},a),{limit:t});e.onBuilderOptionsChange(r)}}))):null},Je=function(e){var t=j.QueryEditor.QueryBuilder.PREVIEW,r=t.label,n=t.tooltip;return R.a.createElement("div",{className:"gf-form"},R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword",tooltip:n},r),R.a.createElement("pre",null,e.sql))},Xe=function(e){var t=e.query,r=e.onChange,n=j.QueryEditor.Types,a=n.label,o=n.tooltip,l=n.options,s=n.switcher,c=t.queryType||(t.rawSql&&!t.queryType?f.SQL:f.Builder),p=u(Object(A.useState)(c),2),h=p[0],v=p[1],m=u(Object(A.useState)(!1),2),y=m[0],g=m[1],b=[{label:l.SQLEditor,value:f.SQL},{label:l.QueryBuilder,value:f.Builder}],O=function(e,n){if(void 0===n&&(n=!1),t.queryType!==f.SQL||e!==f.Builder||n){v(e);var a=void 0;switch(t.queryType){case f.Builder:a=t.builderOptions;break;case f.SQL:a=Oe(t.rawSql)||E.builderOptions;break;default:a=E.builderOptions}e===f.SQL?r(i(i({},t),{queryType:e,rawSql:Ee(a),meta:{builderOptions:a},format:d.TABLE})):e===f.Builder&&r(i(i({},t),{queryType:e,rawSql:Ee(a),builderOptions:a}))}else g(!0)};return R.a.createElement(R.a.Fragment,null,R.a.createElement(k.InlineFormLabel,{width:8,className:"query-keyword",tooltip:o},a),R.a.createElement(k.RadioButtonGroup,{options:b,value:h,onChange:function(e){return O(e)}}),R.a.createElement(k.ConfirmModal,{isOpen:y,title:s.title,body:s.body,confirmText:s.confirmText,dismissText:s.dismissText,icon:"exclamation-triangle",onConfirm:function(){O(f.Builder,!0),g(!1)},onDismiss:function(){return g(!1)}}))},Ze=function(e){var t=e.query,r=e.onChange;switch(t.queryType){case f.SQL:return R.a.createElement("div",{"data-testid":"query-editor-section-sql"},R.a.createElement(ae,i({},e)));case f.Builder:default:var n=i({},t);if(t.rawSql&&!t.builderOptions)return R.a.createElement("div",{"data-testid":"query-editor-section-sql"},R.a.createElement(ae,i({},e)));if(!t.rawSql||!t.builderOptions){var a=E.rawSql,o=E.builderOptions;n=i(i({},n),{rawSql:a,builderOptions:o})}return R.a.createElement("div",{"data-testid":"query-editor-section-builder"},R.a.createElement(Ye,{datasource:e.datasource,builderOptions:n.builderOptions,onBuilderOptionsChange:function(e){var n=Ee(e),a=e.mode===h.Trend?d.TIMESERIES:d.TABLE;r(i(i({},t),{queryType:f.Builder,rawSql:n,builderOptions:e,format:a}))}}),R.a.createElement(Je,{sql:n.rawSql}))}};r.d(t,"plugin",(function(){return et}));var et=new n.DataSourcePlugin(N).setConfigEditor((function(e){var t,r=Object(k.useTheme)(),a=k.LegacyForms.FormField,o=k.LegacyForms.SecretFormField,l=e.options,s=e.onOptionsChange,u=l.jsonData,c=l.secureJsonFields,p=l.secureJsonData||{},d=c&&c.tlsCACert,f=c&&c.tlsClientCert,h=c&&c.tlsClientKey,v={padding:"0 "+r.spacing.sm,height:r.spacing.formInputHeight+"px",display:"flex",alignItems:"center"},m=function(e,t){var r;s(i(i({},l),{jsonData:i(i({},l.jsonData),(r={},r[e]=t,r))}))},y=function(e,t){var r;s(i(i({},l),{jsonData:i(i({},l.jsonData),(r={},r[e]=t,r))}))},g=function(e,t){var r;s(i(i({},l),{secureJsonData:i(i({},p),(r={},r[e]=t,r))}))},b=function(e){var t,r;s(i(i({},l),{secureJsonFields:i(i({},c),(t={},t[e]=!1,t)),secureJsonData:i(i({},p),(r={},r[e]="",r))}))};return R.a.createElement(R.a.Fragment,null,R.a.createElement("div",{className:"gf-form-group"},R.a.createElement("h3",null,"Server"),R.a.createElement("br",null),R.a.createElement("div",{className:"gf-form"},R.a.createElement(a,{name:"server",labelWidth:12,inputWidth:20,value:u.server||"",onChange:Object(n.onUpdateDatasourceJsonDataOption)(e,"server"),label:F.ConfigEditor.ServerAddress.label,"aria-label":F.ConfigEditor.ServerAddress.label,placeholder:F.ConfigEditor.ServerAddress.placeholder,tooltip:F.ConfigEditor.ServerAddress.tooltip})),R.a.createElement("div",{className:"gf-form"},R.a.createElement(a,{name:"port",labelWidth:12,inputWidth:20,type:"number",value:u.port||"",onChange:function(e){return t=e.currentTarget.value,void s(i(i({},l),{jsonData:i(i({},l.jsonData),{port:+t})}));var t},label:F.ConfigEditor.ServerPort.label,"aria-label":F.ConfigEditor.ServerPort.label,placeholder:F.ConfigEditor.ServerPort.placeholder((null===(t=u.secure)||void 0===t?void 0:t.toString())||"false"),tooltip:F.ConfigEditor.ServerPort.tooltip})),R.a.createElement("div",{className:"gf-form"},R.a.createElement(k.InlineFormLabel,{width:12,tooltip:F.ConfigEditor.Secure.tooltip},F.ConfigEditor.Secure.label),R.a.createElement("div",{style:v},R.a.createElement(k.Switch,{id:"secure",css:{},className:"gf-form",value:u.secure||!1,onChange:function(e){return y("secure",e.currentTarget.checked)}})))),R.a.createElement("div",{className:"gf-form-group"},R.a.createElement("h3",null,"Credentials"),R.a.createElement("br",null),R.a.createElement("div",{className:"gf-form"},R.a.createElement(a,{name:"user",labelWidth:12,inputWidth:20,value:u.username||"",onChange:Object(n.onUpdateDatasourceJsonDataOption)(e,"username"),label:F.ConfigEditor.Username.label,"aria-label":F.ConfigEditor.Username.label,placeholder:F.ConfigEditor.Username.placeholder,tooltip:F.ConfigEditor.Username.tooltip})),R.a.createElement("div",{className:"gf-form"},R.a.createElement(o,{name:"pwd",labelWidth:12,inputWidth:20,required:!0,value:p.password||"",isConfigured:c&&c.password,onReset:function(){s(i(i({},l),{secureJsonFields:i(i({},l.secureJsonFields),{password:!1}),secureJsonData:i(i({},l.secureJsonData),{password:""})}))},onChange:Object(n.onUpdateDatasourceSecureJsonDataOption)(e,"password"),label:F.ConfigEditor.Password.label,"aria-label":F.ConfigEditor.Password.label,placeholder:F.ConfigEditor.Password.placeholder,tooltip:F.ConfigEditor.Password.tooltip}))),R.a.createElement("div",{className:"gf-form-group"},R.a.createElement("h3",null,"TLS / SSL Settings"),R.a.createElement("br",null),R.a.createElement("div",{className:"gf-form"},R.a.createElement(k.InlineFormLabel,{width:12,tooltip:F.ConfigEditor.TLSSkipVerify.tooltip},F.ConfigEditor.TLSSkipVerify.label),R.a.createElement("div",{style:v},R.a.createElement(k.Switch,{css:{},className:"gf-form",value:u.tlsSkipVerify||!1,onChange:function(e){return m("tlsSkipVerify",e.currentTarget.checked)}}))),R.a.createElement("div",{className:"gf-form"},R.a.createElement(k.InlineFormLabel,{width:12,tooltip:F.ConfigEditor.TLSClientAuth.tooltip},F.ConfigEditor.TLSClientAuth.label),R.a.createElement("div",{style:v},R.a.createElement(k.Switch,{css:{},className:"gf-form",value:u.tlsAuth||!1,onChange:function(e){return m("tlsAuth",e.currentTarget.checked)}})),R.a.createElement(k.InlineFormLabel,{width:12,tooltip:F.ConfigEditor.TLSAuthWithCACert.tooltip},F.ConfigEditor.TLSAuthWithCACert.label),R.a.createElement("div",{style:v},R.a.createElement(k.Switch,{css:{},className:"gf-form",value:u.tlsAuthWithCACert||!1,onChange:function(e){return m("tlsAuthWithCACert",e.currentTarget.checked)}}))),u.tlsAuthWithCACert&&R.a.createElement(B,{hasCert:!!d,onChange:function(e){return g("tlsCACert",e.currentTarget.value)},placeholder:F.ConfigEditor.TLSCACert.placeholder,label:F.ConfigEditor.TLSCACert.label,onClick:function(){return b("tlsCACert")}}),u.tlsAuth&&R.a.createElement(R.a.Fragment,null,R.a.createElement(B,{hasCert:!!f,onChange:function(e){return g("tlsClientCert",e.currentTarget.value)},placeholder:F.ConfigEditor.TLSClientCert.placeholder,label:F.ConfigEditor.TLSClientCert.label,onClick:function(){return b("tlsClientCert")}}),R.a.createElement(B,{hasCert:!!h,placeholder:F.ConfigEditor.TLSClientKey.placeholder,label:F.ConfigEditor.TLSClientKey.label,onChange:function(e){return g("tlsClientKey",e.currentTarget.value)},onClick:function(){return b("tlsClientKey")}}))),R.a.createElement("div",{className:"gf-form-group"},R.a.createElement("h3",null,"Additional Properties"),R.a.createElement("br",null),R.a.createElement("div",{className:"gf-form"},R.a.createElement(a,{labelWidth:12,inputWidth:20,value:u.defaultDatabase||"",onChange:Object(n.onUpdateDatasourceJsonDataOption)(e,"defaultDatabase"),label:F.ConfigEditor.DefaultDatabase.label,"aria-label":F.ConfigEditor.DefaultDatabase.label,placeholder:F.ConfigEditor.DefaultDatabase.placeholder,tooltip:F.ConfigEditor.DefaultDatabase.tooltip})),R.a.createElement("div",{className:"gf-form"},R.a.createElement(a,{labelWidth:12,inputWidth:20,value:u.timeout||"",onChange:Object(n.onUpdateDatasourceJsonDataOption)(e,"timeout"),label:F.ConfigEditor.Timeout.label,"aria-label":F.ConfigEditor.Timeout.label,placeholder:F.ConfigEditor.Timeout.placeholder,tooltip:F.ConfigEditor.Timeout.tooltip,type:"number"})),R.a.createElement("div",{className:"gf-form"},R.a.createElement(k.InlineFormLabel,{width:12,tooltip:F.ConfigEditor.Validate.tooltip},F.ConfigEditor.Validate.label),R.a.createElement("div",{style:v},R.a.createElement(k.Switch,{css:{},className:"gf-form",value:u.validate||!1,onChange:function(e){return y("validate",e.currentTarget.checked)}})))))})).setQueryEditor((function(e){var t=e.query,r=e.onChange,n=e.onRunQuery;return R.a.createElement(R.a.Fragment,null,R.a.createElement("div",{className:"gf-form "+z.QueryEditor.queryType},R.a.createElement("span",null,R.a.createElement(Xe,i({},e))),R.a.createElement(k.Button,{onClick:function(){return function(){if(t.queryType===f.SQL){var e=te(t.rawSql);e!==t.format&&r(i(i({},t),{format:e}))}n()}()}},"Run Query")),R.a.createElement(Ze,i({},e)))}))}])}));
//# sourceMappingURL=module.js.map